define("conf",function(t,e,a){function n(t,e){e.plansin_body="main/html/program/part_by.html",e.matter_url="main/html/program/part_qb.html";var a=localStorage.getItem("prcodeid"),n=localStorage.getItem("scodeid"),o={codeid:a,type:!0,sname:"原材",now:""};angular.forEach(e.program_plan_sinlist.datalist,function(t,e){t.now=t.codeid==n?"active":""}),o.now=n?"":"active",e.program_plan_sinlist.datalist.unshift(o),e.stype="byornot",e.yctype=0}function o(t,e){return e="object"==typeof e?JSON.stringify(e):e,localStorage.setItem(t,e),!0}function i(t){return t?new Date(t).valueOf():(new Date).valueOf()}function r(t){var e="";if(parseInt(t)>0){var a=new Date(t),n=a.getYear()+1900,o=a.getMonth()+1;o=o<10?"0"+o:o;var i=a.getDate();return i=i<10?"0"+i:i,n+"-"+o+"-"+i}return e}function c(t){var e=[];if(t){var a=t.split(",");return a.map(function(t){e.push({val:t})}),e}return e}function l(t){return t.value?t.value:""}window.ycchart=function(t,e){YS("echarts",function(){var a={title:{text:e,textStyle:{fontSize:"16"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{y:"25",x:"right",data:["已送","未送","漏送","异常"]},grid:{left:"3%",right:"4%",bottom:"3%",top:"50",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:t.name},series:[{name:"已送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#00cc33"}},data:t.ys},{name:"未送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#BBB"}},data:t.ws},{name:"漏送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#FF6666"}},data:t.ls}]},n=echarts.init(document.getElementById("barone"),"vintage");n.setOption(a)},"vintage")},window.hntchart=function(t,e){YS("echarts",function(){var a={title:{text:e,textStyle:{fontSize:"16"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{y:"25",x:"right",data:["已送","未送","漏送","异常"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:t.name},series:[{name:"已送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#00cc33"}},data:t.ys},{name:"未送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#bbbbbb"}},data:t.ws},{name:"漏送",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#FF6666"}},data:t.ls},{name:"异常",type:"bar",stack:"总量",label:{normal:{show:!0,formatter:l,position:"insideRight"}},itemStyle:{normal:{color:"#F93"}},data:t.yc}]},n=echarts.init(document.getElementById("bartwo"),"vintage");n.setOption(a)},"vintage")},window.config={url:{ysmenu_list:{url:"ver1/Index/menu",method:"get"},com_info:{url:"ver1/Index/userinfo",method:"post"},com_request:{url:"ver1/Login/index",method:"post"},com_share:{url:"ver1/Index/share",method:"post"},com_feed:{url:"ver1/Open/adfeed",method:"post"},com_jilu:{url:"ver1/Index/es",method:"post"},com_wendu:{url:"ver1/Index/wendu",method:"post"},accountbind:{url:"ver1/Login/qqwebind",method:"post"},createbind:{url:"ver1/Login/qqweaddbind",method:"post"},register:{url:"ver1/Login/register",method:"post"},com_login:{url:"ver1/Login/login",method:"get"},com_logout:{url:"ver1/Login/loginout",method:"get"},com_province:{url:"ver1/Open/prov",method:"post"},com_city:{url:"ver1/Open/city",method:"post"},com_ea:{url:"ver1/Index/com_ea",method:"post"},com_em:{url:"ver1/Index/com_em",method:"post"},com_ed:{url:"ver1/Index/com_ed",method:"post"},com_zl:{url:"ver1/Ziliao/getzldata",method:"post"},com_updatezl:{url:"ver1/Ziliao/updatezldata",method:"post"},program_pro_list:{url:"ver1/Index/program_pro_list",method:"get",load:1},program_pro_add:{url:"ver1/Index/program_pro_add",method:"post"},program_pro_del:{url:"ver1/Index/program_pro_del",method:"post"},program_pro_sinadd:{url:"ver1/Index/program_pro_sinadd",method:"post"},program_pro_sinedit:{url:"ver1/Index/program_pro_sinedit",method:"post"},program_pro_sindel:{url:"ver1/Index/program_pro_sindel",method:"post"},program_pro_info:{url:"ver1/Index/program_pro_info",method:"post"},program_plan_sinlist:{url:"ver1/Index/program_sinlist",method:"get"},program_plan_matterlist:{url:"ver1/Index/program_plan_matterlist",load:1},program_plan_matterdel:{url:"ver1/Index/com_ed",method:"post"},program_plan_matteradd:{url:"ver1/Index/program_plan_matteradd",method:"post"},program_plan_matteredit:{url:"ver1/Index/program_plan_matteredit",method:"post"},program_plan_betonlist:{url:"ver1/Index/program_plan_betonlist",method:"get",load:1},program_plan_betondel:{url:"ver1/Index/com_ed",method:"post"},program_plan_betonadd:{url:"ver1/Index/program_plan_betonadd",method:"post"},program_plan_betonedit:{url:"ver1/Index/program_plan_betonedit",method:"post"},program_gether_sel:{url:"ver1/Index/program_gether",method:"get",load:1},program_gether_jilu:{url:"ver1/Index/program_gether_jilu",method:"post",load:1},program_gether_save:{url:"ver1/Index/program_gether_save",method:"post",load:1},program_gether_del:{url:"ver1/Index/com_ed",method:"post"},program_work_sinlist:{url:"ver1/Index/program_sinlist",method:"get"},program_work_nodelist:{url:"ver1/Index/program_work_nodelist",method:"get"},program_work_sinimage:{url:"ver1/Index/program_work_sinimage",method:"get",load:1},program_work_matcount:{url:"ver1/Index/program_work_matcount",method:"get"},program_gantt_list:{url:"ver1/Index/program_gantt_list",method:"get"},program_gantt_add:{url:"ver1/Index/program_gantt_add",method:"post"},program_gantt_del:{url:"ver1/Index/program_gantt_del",method:"post"},program_gantt_edit:{url:"ver1/Index/program_gantt_edit",method:"post"},program_gantt_worklist:{url:"ver1/Index/program_gantt_worklist",method:"get"},program_gantt_workadd:{url:"ver1/Index/program_gantt_workadd",method:"post"},program_gantt_workdel:{url:"ver1/Index/com_ed",method:"post"},program_gantt_workedit:{url:"ver1/Index/program_gantt_workedit",method:"post"},program_struct_sel:{url:"ver1/Index/program_struct_mulu",method:"get",load:1},program_struct_edit:{url:"ver1/Index/program_struct_edit",method:"get"},program_weather_list:{url:"ver1/Index/service_weather_list",method:"post"},operate_user_list:{url:"ver1/Index/operate_user_list",method:"post"},operate_logincount_list:{url:"ver1/Index/operate_login_list",method:"post"},operate_com_list:{url:"ver1/Index/operate_com_list",method:"post"},operate_pro_list:{url:"ver1/Index/operate_pro_list",method:"post"},operate_usergather_list:{url:"ver1/Index/loginStatistic",method:"post"},system_city_list:{url:"ver1/Index/system_city_list",method:"post"},system_mattertpl_list:{url:"ver1/Index/system_mattertpl_list",method:"post"},system_mattertpl_del:{url:"ver1/Index/com_ed",method:"post"},system_tbtype_list:{url:"json/data.json",method:"post"},system_tbtype_del:{url:"ver1/Index/com_ed",method:"post"},system_tongbiao_tplist:{url:"ver1/Index/system_tbtype_list",method:"post"},system_tongbiao_list:{url:"ver1/Index/system_tongbiao_list",method:"post"},system_tongbiao_del:{url:"ver1/Index/com_ed",method:"post"},service_weather_list:{url:"ver1/Index/service_weather_list",method:"post"},service_weather_del:{url:"ver1/Index/com_ed",method:"post"},user_info_list:{url:"ver1/Index/user_password_info",method:"post"},user_info_psd:{url:"ver1/Index/user_password_change",method:"post"}},win:{program_pro_info:{template:"program_pro_base",title:"工程概况",temdata:{}},program_pro_sinadd:{template:"program_pro_sinadd",title:"添加子单位",temdata:{sname:"",cengshu:"",codeid:"",jiegou:"",jichu:"",zhuti:""}},program_pro_sinedit:{template:"program_pro_sinedit",title:"编辑子单位",temdata:{}},program_pro_add:{template:"program_pro_add",title:"创建工程",temdata:{prname:"",pid:"",cityid:"",jiegou:"",kaigong:"",jungong:""}},program_gantt_add:{template:"program_gantt_add",title:"新建横道图",temdata:{htitle:"",ftitle:"",comtitle:"",btime:"",etime:"",hadd_time:"",beizhu:""}},program_gantt_edit:{template:"program_gantt_edit",title:"横道图编辑",temdata:{}},program_gantt_workedit:{template:"program_gantt_workedit",title:"横道图作业编辑",temdata:{}},program_plan_set:{template:"program_plan_set",title:"送检计划-混凝土-设置",temdata:{}},program_plan_matergather:{template:"program_plan_matergather",title:"送检计划-原材-汇总打印",temdata:{}},program_plan_factoryset:{template:"program_plan_factoryset",title:"送检计划-原材-出厂编号",temdata:{}},program_plan_materypset:{template:"program_plan_materypset",title:"送检计划-原材-样品编号",temdata:{}},program_plan_betongather:{template:"program_plan_betongather",title:"送检计划-混凝土-汇总打印",temdata:{}},program_plan_chipset:{template:"program_plan_chipset",title:"送检计划-混凝土-标养等芯片",temdata:{}},program_plan_betonypset:{template:"program_plan_betonypset",title:"送检计划-混凝土-标养等样品",temdata:{}},program_plan_resultset:{template:"program_plan_resultset",title:"送检计划-混凝土-标养等结果",temdata:{}},program_plan_comset:{template:"program_plan_comset",title:"",temdata:{}},system_pages_add:{template:"system_image_set",title:"添加幻灯片",temdata:{}},system_pages_edit:{template:"system_image_set",title:"编辑幻灯片",temdata:{}},program_plan_datelist:{template:"program_plan_datelist",title:"龄期",temdata:{}},program_plan_wealist:{template:"program_plan_wealist",title:"累计温度/龄期",temdata:{}},user_info_tel:{template:"user_info_tel",title:"绑定手机",temdata:{}},user_info_password:{template:"user_info_password",title:"修改密码",temdata:{}},user_info_win:{template:"user_info_win",title:"工程上限",temdata:{}},feed:{template:"feed",title:"意见反馈",temdata:{}},ycexcel:{template:"ycexcel",title:"导入excel",temdata:{}},byexcel:{template:"byexcel",title:"导入excel",temdata:{}}},port:{program_pro:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:5},pname:"工程列表页面列表",fun:function(t,e){t.data.datalist.length&&(o("prcodeid",t.data.datalist[0].codeid),o("prname",t.data.datalist[0].prname),t.data.datalist[0].sinchl.datalist.length&&o("scodeid",t.data.datalist[0].sinchl.datalist[0].codeid))}},add:{method:"post",facfun:"post_data_watch",t:0,send:{pid:"",cityid:"",kaigong:"",jungong:"",jiegou:"",prname:""},pname:"添加工程"},del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"删除工程"},sinadd:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"添加子单位"},sinedit:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"编辑子单位"},sindel:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"删除子单位"},info:{method:"post",facfun:"post_data_watch",t:0,send:{codeid:""},pname:"获取工程信息"}},program_work:{sinlist:{method:"post",facfun:"post_data",pname:"进度管理-子单位列表",send:{codeid:""},before:function(){config.port.program_work.sinlist.send.codeid=localStorage.getItem("prcodeid")},fun:function(t,e){if(0==t.data.datalist.length)layer.msg("请先添加子单位",{icon:0});else{localStorage.getItem("scodeid")||(localStorage.setItem("scodeid",t.data[0].codeid),localStorage.setItem("sname",t.data[0].sname));var a=localStorage.getItem("scodeid");e.program_work_sinimageData.scodeid=a,e.program_work_sinimageTime.time=i()}}},sinimage:{method:"post",facfun:"post_data_watch",t:0,send:{codeid:""},pname:"进度管理-子单位进度图详情",before:function(){config.port.program_work.sinimage.send.codeid=localStorage.getItem("scodeid")},fun:function(t,e){setTimeout(function(){$('*[data-toggle="tooltip"]').tooltip()},800),e.quanbu=t.quanbu,e.jichu=t.jichu,e.zhuti=t.zhuti;var a=[e.quanbu,e.jichu,e.zhuti],n=["","-基础","-主体"],o=localStorage.getItem("sname"),i=o+n[e.showtype]+"- 送检统计图";hntchart(a[e.showtype],i)}},matcount:{method:"post",facfun:"post_data_watch",t:1,send:{codeid:""},pname:"进度管理-子单位统计信息详情",before:function(){config.port.program_work.matcount.send.codeid=localStorage.getItem("prcodeid")},fun:function(t,e){e.yuancai=t.data,ycchart(t.data,"工程原材送检统计图")}}},program_plan:{sinlist:{method:"post",facfun:"post_data",fun:n,pname:"送检计划-子单位列表",send:{codeid:""},before:function(){config.port.program_plan.sinlist.send.codeid=localStorage.getItem("prcodeid")}},matterlist:{facfun:"post_data_watch",t:0,pname:"送检计划-原材列表",send:{codeid:""},before:function(){config.port.program_plan.matterlist.send.codeid=localStorage.getItem("prcodeid")},fun:function(t,e){angular.forEach(e.program_plan_matterlist.datalist,function(t){t.morder=parseInt(t.morder),t.jieguoarr=c(t.jieguo),t.ypbharr=c(t.ypbh),t.ccpharr=c(t.ccph)})}},matterdel:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-原材删除"},matteradd:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-原材添加"},matteredit:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-原材编辑"},betonlist:{facfun:"post_data_watch",t:1,pname:"送检计划-子单位送检列表",send:{codeid:"",type:"byornot"},before:function(){config.port.program_plan.betonlist.send.codeid=localStorage.getItem("scodeid")},fun:function(t,e){e.winsongjian=[],e.winyuancai=[];i(r((new Date).getTime()))/1e3;angular.forEach(e.program_plan_betonlist.datalist,function(t){t.myorder=parseInt(t.myorder),t.byjgarr=c(t.byjg),t.bybharr=c(t.bybh),t.xinpianarr=c(t.xinpian),t.tyjgarr=c(t.tyjg),t.tybharr=c(t.tybh),t.tyxinpianarr=c(t.tyxinpian),t.ksjgarr=c(t.ksjg),t.ksbharr=c(t.ksbh),t.ztjgarr=c(t.ztjg),t.ztbharr=c(t.ztbh),t.ztxinpianarr=c(t.ztxinpian),t.cmjgarr=c(t.cmjg),t.cmbharr=c(t.cmbh),t.dzjgarr=c(t.dzjg),t.dzbharr=c(t.dzbh),t.dzguigearr=c(t.dzguige),t.dzpaihaoarr=c(t.dzpaihao),t.dzchangjiaarr=c(t.dzchangjia),t.qzjgarr=c(t.qzjg),t.qzbharr=c(t.qzbh),t.wqjgarr=c(t.wqjg),t.wqbharr=c(t.wqbh),t.nqjgarr=c(t.nqjg),t.nqbharr=c(t.nqbh),t.zpjgarr=c(t.zpjg),t.zpbharr=c(t.zpbh),t.ccpharr=c(t.ccph)})}},betonadd:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-子单位送检添加部位"},betondel:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-子单位送检删除"},betonedit:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检计划-子单位送检编辑"}},program_gantt:{list:{method:"get",facfun:"post_data",send:{codeid:""},pname:"横道图",before:function(){config.port.program_gantt.list.send.codeid=localStorage.getItem("prcodeid")}},add:{facfun:"post_data_watch",t:0,send:{},pname:"横道图-添加"},del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"横道图-删除"},edit:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"横道图-编辑"},worklist:{method:"get",facfun:"post_data_watch",t:0,send:{codeid:""},pname:"横道图作业",before:function(){config.port.program_gantt.worklist.send.codeid=localStorage.getItem("hcodeid")},fun:function(t,e){angular.forEach(t.data.datalist,function(t){t.myorder=parseInt(t.myorder)}),e.program_gantt_worklist=t.data}},workdel:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"横道图-作业删除"}},program_gether:{sel:{facfun:"post_data_watch",t:1,send:{btime:"",etime:"",codeid:""},pname:"送检汇总",before:function(){config.port.program_gether.sel.send.codeid=localStorage.getItem("prcodeid"),config.port.program_gether.sel.send.btime=r((new Date).getTime()),config.port.program_gether.sel.send.etime=r((new Date).getTime()+6048e5)},fun:function(t,e){setTimeout(function(){$('*[data-toggle="tooltip"]').tooltip()},800);var a=e.program_gether_sel,n=["yc","by","ty","ks","zt","dz","cm","qz","nq","wq","zp"];n.map(function(t){if(a[t].hzlist.length>0){var e=t+"jg",n=t+"jgarr",o=t+"bh",i=t+"bharr";angular.forEach(a[t].hzlist,function(a){"by"==t&&(a.xinpianarr=c(a.xinpian)),"yc"==t?(a.jieguoarr=c(a.jieguo),a.ypbharr=c(a.ypbh),a.ccpharr=c(a.ccph)):(a[n]=c(a[e]),a[i]=c(a[o]))})}if(a[t].lslist.length>0){var e=t+"jg",n=t+"jgarr",o=t+"bh",i=t+"bharr";angular.forEach(a[t].lslist,function(a){"by"==t&&(a.xinpianarr=c(a.xinpian)),"yc"==t?(a.jieguoarr=c(a.jieguo),a.ypbharr=c(a.ypbh),a.ccpharr=c(a.ccph)):(a[n]=c(a[e]),a[i]=c(a[o]))})}})}},jilu:{method:"post",facfun:"post_data_watch_page",t:0,send:{codeid:"",nowpage:0,listnum:30},pname:"查询送检记录",before:function(){config.port.program_gether.jilu.send.codeid=localStorage.getItem("prcodeid")}},save:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"保存送检记录"},del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"送检记录删除"}},program_struct:{edit:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"目录保存"},sel:{facfun:"post_data_watch",t:1,send:{codeid:""},pname:"土建资料",before:function(){config.port.program_struct.sel.send.codeid=localStorage.getItem("prcodeid")},fun:function(t,e){}}},program_weather:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30,curPage:"",wdate:""},pname:"工程温度",before:function(){config.port.program_weather.list.send.cityid=localStorage.getItem("cityid")},fun:function(t,e){}}},operate_user:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30},pname:"用户统计信息"}},operate_logincount:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30},pname:"用户登录统计"}},operate_usergather:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:500},pname:"用户汇总登录"}},operate_com:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30},pname:"公司列表"}},operate_pro:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30,pid:"",cityid:""},pname:"项目列表"}},system_city:{list:{facfun:"post_data_watch_page",t:0,send:{nowpage:0,listnum:30},pname:"城市管理列表"}},system_mattertpl:{del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"原材模板-删除"},list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:300},pname:"原材模板管理列表"}},system_tbtype:{del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"统表类型-删除"},list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:300},pname:"统表类型管理列表"}},system_tongbiao:{del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"统表-删除"},list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:300},pname:"统表管理列表"},tplist:{facfun:"post_data",t:1,send:{nowpage:0,listnum:300},pname:"统表类型列表"}},service_weather:{list:{facfun:"post_data_watch_page",t:1,send:{nowpage:0,listnum:30,curPage:"",wdate:""},pname:"温度管理"},del:{method:"post",facfun:"post_data_watch",t:0,send:{},pname:"温度-删除"}},user_info:{list:{facfun:"post_data_watch",t:1,send:{},pname:"获取个人信息",fun:function(t,e){e.imgurl=t.data.photourl}}}},tip:{a1:"请输入用户名/手机号",a2:"用户名/手机号不少于6位数",a3:"请输入密码",a4:"密码不少于6位数",a5:"请输入手机号",a6:"手机号不少于6位数",a7:"手机号不少于6位数"},ext:{jichu:["桩芯","承台垫层","承台","基础梁垫层","基础梁","电梯基坑垫层","电梯基坑"],zhuti:["首","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","二十一","二十二","二十三","二十四","二十五","二十六","二十七","二十八","二十九","三十","三十一","三十二","三十三","三十四","三十五","三十六","三十七","三十八","三十九","四十","五十一","五十二","五十三","五十四","五十五","五十六","五十七","五十八","五十九","五十"]},typelist:[{title:"标养",ngclass:"label-primary",url:"main/html/program/part_by.html",t:"byornot"},{title:"同养",ngclass:"label-default",url:"main/html/program/part_ty.html",t:"tyornot"},{title:"抗渗",ngclass:"label-default",url:"main/html/program/part_ks.html",t:"ksornot"},{title:"柱头",ngclass:"label-default",url:"main/html/program/part_zt.html",t:"ztornot"},{title:"拆模",ngclass:"label-default",url:"main/html/program/part_cm.html",t:"cmornot"},{title:"焊接",ngclass:"label-default",url:"main/html/program/part_dz.html",t:"dzornot"},{title:"砌筑",ngclass:"label-default",url:"main/html/program/part_qz.html",t:"qzornot"},{title:"内抹灰",ngclass:"label-default",url:"main/html/program/part_nq.html",t:"nqornot"},{title:"外抹灰",ngclass:"label-default",url:"main/html/program/part_wq.html",t:"wqornot"},{title:"找平",ngclass:"label-default",url:"main/html/program/part_zp.html",t:"zpornot"}],yctypelist:[{title:"钢筋",ngclass:"label-default",url:"main/html/program/part_gj.html",t:"1"},{title:"水泥",ngclass:"label-default",url:"main/html/program/part_sn.html",t:"2"},{title:"砂",ngclass:"label-default",url:"main/html/program/part_s.html",t:"3"},{title:"砖",ngclass:"label-default",url:"main/html/program/part_z.html",t:"4"},{title:"装饰",ngclass:"label-default",url:"main/html/program/part_zs.html",t:"5"},{title:"节能",ngclass:"label-default",url:"main/html/program/part_jn.html",t:"6"},{title:"防水",ngclass:"label-default",url:"main/html/program/part_fs.html",t:"7"},{title:"水电",ngclass:"label-default",url:"main/html/program/part_sd.html",t:"8"},{title:"安全",ngclass:"label-default",url:"main/html/program/part_aq.html",t:"9"},{title:"全部",ngclass:"label-primary",url:"main/html/program/part_qb.html",t:"0"}],ftypelist:[{title:"----",t:"0"},{title:"基础",t:"3"},{title:"主体",t:"4"},{title:"装修",t:"5"},{title:"幕墙",t:"6"},{title:"屋面",t:"7"},{title:"节能",t:"8"},{title:"给排水",t:"9"},{title:"电气",t:"10"}],qdypelist:[{title:"----",t:"0"},{title:"C10",t:"10"},{title:"C15",t:"15"},{title:"C20",t:"20"},{title:"C25",t:"25"},{title:"C30",t:"30"},{title:"C35",t:"35"},{title:"C40",t:"40"},{title:"C45",t:"45"},{title:"C50",t:"50"},{title:"C55",t:"55"},{title:"C60",t:"60"},{title:"C65",t:"65"},{title:"C70",t:"70"},{title:"C75",t:"75"},{title:"C80",t:"80"}],sjtypelist:[{title:"----",t:"0"},{title:"M5",t:"5"},{title:"M7.5",t:"7.5"},{title:"M10",t:"10"},{title:"M15",t:"15"},{title:"M20",t:"20"},{title:"M25",t:"25"},{title:"M30",t:"30"}],kstypelist:[{title:"----",t:"0"},{title:"P4",t:"P4"},{title:"P6",t:"P6"},{title:"P8",t:"P8"},{title:"P10",t:"P10"},{title:"P12",t:"P12"},{title:">P12",t:">P12"}]}}),window.root="api/ver1/",window.debugflag=0,define("confv",function(t,e,a){window.YSCONF={url:{getmenu:{url:"index/menutree_select",method:"post_data",name:"后台侧边栏"},com_update:{url:"index/com_editadd",method:"post_data_watch",name:"编辑更新一条"},com_list:{url:"index/com_list",method:"post_data_watch",name:"无分页列表"},com_list2:{url:"index/com_list",method:"post_data_watch",name:"无分页列表"},com_list3:{url:"index/com_list",method:"post_data_watch",name:"无分页列表"},com_list_page:{url:"index/com_list_page",method:"post_data_watch_page",name:"带分页列表"},com_list_page2:{url:"index/com_list_page",method:"post_data_watch_page",name:"带分页列表"},com_list_page3:{url:"index/com_list_page",method:"post_data_watch_page",name:"带分页列表"},com_artlist_page:{url:"index/com_artlist_page",method:"post_data_watch_page",name:"带分页列表"},com_detail:{url:"index/com_detail",method:"post_data_watch",name:"详情"},com_del:{url:"index/com_delete",method:"post_data_watch",name:"公共删除"},com_del2:{url:"index/com_delete",method:"post_data_watch",name:"公共删除"},com_editadd:{url:"index/com_editadd",method:"post_data_watch",name:"编辑或增加"},com_editadd2:{url:"index/com_editadd",method:"post_data_watch",name:"编辑或增加"},com_editadd3:{url:"index/com_editadd",method:"post_data_watch",name:"编辑或增加"},com_editadd4:{url:"index/com_editadd",method:"post_data_watch",name:"编辑或增加"},com_editadd5:{url:"index/com_editadd",method:"post_data_watch",name:"编辑或增加"},lgout:{url:"base/logout",method:"post_data_watch",name:"推出登录"},admin_base_select:{url:"index/base_select",method:"post_data",name:"后台首页查询"}},win:{warmtips_teacher_set:{template:"warmtips_teacher_set",type:"add",title:"温馨提示",temdata:{}}}}}),define("facv",["jquery","angularjs","YS"],function(t,e,a){var n=angular.module("myfactv",[]);n.factory("facv",["$http",function(t){var e={time:function(t){var e=t?Date.parse(new Date(t)):Date.parse(new Date);return e},seturl:function(t,e){console.log({scope:t,name:YSCONF.url[e].name});var a=YSCONF.url[e].url;a=t[e].url?t[e].url:a;var n=window.root+a,o=t[e].params||{};if(window.debugflag)switch(o.debug){case 1:var i=o.debugkey?"/"+o.debugkey:"";n="json/"+a+i+".json";break;case 0:n="json/err.json";break;case-2:n="json/noauth.json";break;case-1:n="json/nologin.json"}var r={url:n,method:YSCONF.url[e].method};return r},ysfetch:function(t,a){if(t&&a){var n=e.seturl(t,a);e[n.method](t,a)}},get:function(a,n,o){var i=a+"?token="+e.getstore("ystoken");t({withCredentials:!0,method:"GET",params:$.param(n),url:i,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,e,a,n){o(t)}).error(function(t,e,a,n){YS("layer",function(){layer.msg("网络超时！",{icon:0,time:2e3})})})},post:function(a,n,o){var i=a+"?token="+e.getstore("ystoken");t({method:"POST",data:$.param(n),url:i,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,e,a,n){o(t)}).error(function(t,e,a,n){YS("layer",function(){layer.msg("网络超时！",{icon:0,time:2e3})})})},load:function(t){t?$("#loader").fadeIn(100):$("#loader").fadeOut(1e3)},getcode:function(){return $("#codeid").val()},get_data_watch:function(t,a){t&&a&&t.$watch(a+".time",function(){if(t[a].time){if("function"==typeof t[a].before){var n=t[a].before(t);if(n===!1)return!1}var o=t[a].params||{};YSCONF.url[a].load&&e.load(0);var i=e.seturl(t,a);e.get(i.url,o,function(n){t[a].data={},1==n.code&&(t[a].data=n.data),"function"==typeof t[a].done&&t[a].done(n,t),YSCONF.url[a].load&&e.load(0)})}},!0)},get_data_watch_page:function(t,a){if(t&&a){var n=YSCONF.url[a].pageid||"page";t.$watch(a+".time",function(){if(t[a].time){if("function"==typeof t[a].before){var o=t[a].before(t);if(o===!1)return!1}var i=t[a].params||{};YSCONF.url[a].load&&e.load(1);var r=e.seturl(t,a);e.get(r.url,i,function(o){t[a].data={},1==o.code&&(t[a].data=o.data,laypage({cont:n,pages:o.data.pages,skin:"molv",first:1,curr:t[a].params.curPage||1,prev:"<",next:">",jump:function(n,o){o||(t[a].params.curPage=n.curr,t[a].time=e.time(),t.$apply())}})),"function"==typeof t[a].done&&t[a].done(o,t),YSCONF.url[a].load&&e.load(0)})}},!0)}},get_data:function(t,a){if(t&&a){if("function"==typeof t[a].before){var n=t[a].before(t);if(n===!1)return!1}var o=t[a].params||{};YSCONF.url[a].load&&e.load(1);var i=e.seturl(t,a);e.get(i.url,o,function(n){t[a].data={},1==n.code&&(t[a].data=n.data),"function"==typeof t[a].done&&t[a].done(n,t),YSCONF.url[a].load&&e.load(0)})}},post_data_watch:function(t,a){t&&a&&t.$watch(a+".time",function(){if(t[a].time){if("function"==typeof t[a].before){var n=t[a].before(t);if(n===!1)return!1}var o=t[a].params||{};YSCONF.url[a].load&&e.load(1);var i=e.seturl(t,a);e.post(i.url,o,function(n){t[a].data={},1==n.code&&(t[a].data=n.data),"function"==typeof t[a].done&&t[a].done(n,t),YSCONF.url[a].load&&e.load(0)})}},!0)},post_data:function(t,a){if(t&&a){if("function"==typeof t[a].before){var n=t[a].before(t);if(n===!1)return!1}var o=t[a].params||{};YSCONF.url[a].load&&e.load(1);var i=e.seturl(t,a);e.post(i.url,o,function(n){t[a].data={},1==n.code&&(t[a].data=n.data),"function"==typeof t[a].done&&t[a].done(n,t),YSCONF.url[a].load&&e.load(0)})}},post_data_watch_page:function(t,a){if(t&&a){var n=YSCONF.url[a].pageid||"page";t.$watch(a+".time",function(){if(t[a].time){if("function"==typeof t[a].before){var o=t[a].before(t);if(o===!1)return!1}var i=t[a].params||{};YSCONF.url[a].load&&e.load(1);var r=e.seturl(t,a);e.post(r.url,i,function(o){t[a].data={},1==o.code&&(t[a].data=o.data,laypage({cont:n,pages:o.data.pages,skin:"molv",first:1,curr:t[a].params.curPage||1,prev:"<",next:">",jump:function(n,o){o||(t[a].params.curPage=n.curr,t[a].time=e.time(),t.$apply())}})),"function"==typeof t[a].done&&t[a].done(o,t),YSCONF.url[a].load&&e.load(0)})}},!0)}},getscope_byid:function(t,a){return t.$id==a?t:e.getscope_byid(t.$parent,a)},getcd:function(t,a){var n=e.getscope_byid(t,2);return n.cd[a]},setstore:function(t,e){return e="object"==typeof e?JSON.stringify(e):e,localStorage.setItem(t,e),!0},getstore:function(t){var e="";try{e=localStorage.getItem(t),e=JSON.parse(e)}catch(a){e=localStorage.getItem(t)}return e},unsetstore:function(t){return localStorage.removeItem(t),!0},getObjectURL:function(t){var e=null;return void 0!==window.createObjectURL?e=window.createObjectURL(t):void 0!==window.URL?e=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},dogoto:function(t,e){layer.msg(t.msg),1==t.code&&setTimeout(function(){window.location.href=e},1e3)},setCookie:function(t,e){var a=new Date;a.setTime(a.getTime()+6048e5);var n="expires="+a.toUTCString();document.cookie=t+"="+e+"; "+n},getCookie:function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "==o.charAt(0);)o=o.substring(1);if(o.indexOf(e)!=-1)return o.substring(e.length,o.length)}return""},delCookie:function(t){e.setCookie(t,"",-1)},webupload:function(t,e,a,n,o){YS("webuploader",function(){var a=WebUploader.create({resize:!1,swf:"YS-frame/webuploader/0.1.5/Uploader.swf",server:window.root+"base/upload",pick:"#picker",chunked:!0,chunkSize:2097152,auto:!0});a.on("uploadBeforeSend",function(t,e,a){$.extend(a,{Origin:"http://api.yushan.com","Access-Control-Request-Method":"POST"})}),a.on("fileQueued",function(e){t.append('<div id="'+e.id+'" class="item"><h4 class="info">'+e.name+'</h4><p class="state">等待上传...</p></div>')}),a.on("uploadProgress",function(t,e,a){var n=$("#"+t.id),o=n.find(".progress .progress-bar");o.length||(o=$('<div class="progress progress-striped active"><div class="progress-bar" role="progressbar" style="width: 0%"></div></div>').appendTo(n).find(".progress-bar")),n.find("p.state").text("上传中"),o.css("width",100*e+"%")}),a.on("uploadSuccess",function(t,e){console.log(e),1==e.code?(e.url=e.url.replace(/\\/g,"/"),n[o]=e.url):layer.msg(e.msg),$("#"+t.id).find("p.state").text("已上传")}),a.on("uploadError",function(t){$("#"+t.id).find("p.state").text("上传出错")}),a.on("uploadComplete",function(t){$("#"+t.id).find(".progress").fadeOut()}),a.on("fileQueued",function(t){var e=$("#fileList"),n=$('<div id="'+t.id+'" class="file-item thumbnail"><img><div class="info">'+t.name+"</div></div>"),o=n.find("img");$("#fileList").html(""),e.append(n),a.makeThumb(t,function(t,e){return t?void o.replaceWith("<span>不能预览</span>"):void o.attr("src",e)},100,100)}),e.on("click",function(){return!$(this).hasClass("disabled")&&void a.upload()})})},hashtoobj:function(t){var e={};if(t)if(t.indexOf("&")>0){var a=t.split("&");a.map(function(t){var a=t.split("=");a.length>1&&(e[a[0]]=a[1])})}else{var n=t.split("=");n.length>1&&(e[n[0]]=n[1])}return e}};return e}])}),define("fac",["jquery","angularjs","YS"],function(t,e,a){var n=angular.module("myfact",[]);n.factory("fac",["$http",function(t){var e={chklogin:function(t,e){e.code===-1?(YS("layer",function(){layer.msg("请重新登陆！",{icon:0})}),setTimeout(function(){window.location.href="./login.html"},1e3)):t(e)},get:function(a,n,o){t({method:"GET",params:n,url:a}).success(function(t,a,n,i){e.chklogin(o,t)}).error(function(t,e,a,n){YS("layer",function(){layer.msg("网络超时！",{icon:0,time:2e3})})})},post:function(a,n,o){t({method:"POST",data:n,url:a}).success(function(t,a,n,i){e.chklogin(o,t)}).error(function(t,e,a,n){YS("layer",function(){layer.msg("网络超时！",{icon:0,time:2e3})})})},coverobj:function(t,e,a){for(var n in e)!e.hasOwnProperty(n)||t.hasOwnProperty(n)&&!a||(t[n]=e[n]);return t},trim:function(t,e){var a=t.replace(/(^\s+)|(\s+$)/g,""),n="g"==e.toLowerCase()?a.replace(/\s/g,""):a;return n},setCookie:function(t,e){var a=new Date;a.setTime(a.getTime()+6048e5);var n="expires="+a.toUTCString();document.cookie=t+"="+e+"; "+n},getCookie:function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "==o.charAt(0);)o=o.substring(1);if(o.indexOf(e)!=-1)return o.substring(e.length,o.length)}return""},delCookie:function(t){e.setCookie(t,"",-1)},numtotime:function(t){var e="";if(parseInt(t)>0){var a=new Date(t),n=a.getYear()+1900,o=a.getMonth()+1;o=o<10?"0"+o:o;var i=a.getDate();return i=i<10?"0"+i:i,n+"-"+o+"-"+i}return e},getDatezh:function(t){var e=new Date(parseInt(t)).toLocaleString();return e},getDateen:function(t){if(0===t)return"";var e=new Date(parseInt(t)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," ");return e},time:function(t){return t?new Date(t).valueOf():(new Date).valueOf()},seturl:function(t){var e=config.url[t].url,a=e.split("/").length,n="root"+a,o=window[n]+e,i=t+"Data",r=t+"Fun",c=t+"Time",l={url:o,dkey:i,fkey:r,tkey:c,load:config.url[t].load};return l},get_data_watch:function(t,a){if(t&&a){var n=e.seturl(a),o=n.tkey;t.$watch(o,function(){t[o].time&&(e.load(1),e.get(n.url,t[n.dkey],function(o){console.log({aurl:a,respone:o}),t[a]={},"1"==o.code&&(t[a]=o.data),"function"==typeof t[n.fkey]&&t[n.fkey](o,t),e.load(0)}))},!0)}},get_data_watch_page:function(t,a){if(t&&a){var n=e.seturl(a),o=config.url[a].pageid||"page",i=n.tkey;t.$watch(i,function(){t[i].time&&(n.load&&e.load(1),e.get(n.url,t[n.dkey],function(r){console.log({aurl:a,respone:r}),t[a]={},"1"==r.code&&(t[a]=r.data,laypage({cont:o,pages:r.data.pages,skin:"molv",first:1,curr:t[n.dkey].nowpage||1,prev:"<",next:">",jump:function(a,o){o||(t[n.dkey].nowpage=a.curr,
t[i].time=e.time(),t.$apply())}})),"function"==typeof t[n.fkey]&&t[n.fkey](r,t),n.load&&e.load(0)}))},!0)}},get_data:function(t,a){if(t&&a){var n=e.seturl(a);n.load&&e.load(1),e.get(n.url,t[n.dkey],function(o){console.log({aurl:a,respone:o}),t[a]={},"1"==o.code&&(t[a]=o.data),"function"==typeof t[n.fkey]&&t[n.fkey](o,t),n.load&&e.load(0)})}},post_data_watch:function(t,a){if(t&&a){var n=e.seturl(a),o=n.tkey;t.$watch(o,function(){t[o].time&&(n.load&&e.load(1),e.post(n.url,t[n.dkey],function(o){console.log({aurl:a,respone:o}),t[a]={},"1"==o.code&&(t[a]=o.data),"function"==typeof t[n.fkey]&&t[n.fkey](o,t),n.load&&e.load(0)}))},!0)}},post_data_watch_page:function(t,a){if(t&&a){var n=e.seturl(a),o=config.url[a].pageid||"page",i=n.tkey;t.$watch(i,function(){t[i].time&&(n.load&&e.load(1),e.post(n.url,t[n.dkey],function(r){console.log({aurl:a,respone:r}),t[a]={},"1"==r.code&&(t[a]=r.data,laypage({cont:o,pages:r.data.pages,skin:"molv",first:1,curr:t[n.dkey].nowpage||1,prev:"<",next:">",jump:function(a,o){o||(t[n.dkey].nowpage=a.curr,t[i].time=e.time(),t.$apply())}})),"function"==typeof t[n.fkey]&&t[n.fkey](r,t),n.load&&e.load(0)}))},!0)}},post_data:function(t,a){if(t&&a){var n=e.seturl(a);n.load&&e.load(1),e.post(n.url,t[n.dkey],function(o){console.log({aurl:a,respone:o}),t[a]={},"1"==o.code&&(t[a]=o.data),"function"==typeof t[n.fkey]&&t[n.fkey](o,t),n.load&&e.load(0)})}},lmsg:function(t){var e=1==t.code?1:2;YS("layer",function(){layer.msg(t.msg,{icon:e})})},msg:function(t){var e=1==t.code?"success":"error";YS("toastr",function(){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-right",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t.msg)})},getscope_byid:function(t,a){return t.$id==a?t:e.getscope_byid(t.$parent,a)},preview:function(t,e){var a=document.getElementById(e);if(t.files&&t.files[0]){var n=new FileReader;n.onload=function(t){a.innerHTML='<img src="'+t.target.result+'" />'},n.readAsDataURL(t.files[0])}else a.innerHTML='<div class="img" style="filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\''+t.value+"'\"></div>"},getrandom:function(t,e){var a=e-t,n=Math.random();return t+Math.round(n*a)},load:function(t){var e=$("#loader");t?e.fadeIn(100):e.fadeOut(500)},checklogin:function(t){2006==t.code&&(layer.msg(t.msg+",2秒后跳转登录页面；"),setTimeout(function(){window.location.href="login.html"},2e3))},setstore:function(t,e){return e="object"==typeof e?JSON.stringify(e):e,localStorage.setItem(t,e),!0},getstore:function(t){var e="";try{e=localStorage.getItem(t),e=JSON.parse(e)}catch(a){e=localStorage.getItem(t)}return e},unsetstore:function(t){return localStorage.removeItem(t),!0},addmsg:function(t,e,a){1==e.code?(layer.closeAll(),layer.msg(e.msg,{icon:1}),t.temdata.codeid=e.data.codeid,t[a].datalist.unshift(t.temdata)):layer.msg(e.msg,{icon:2})},testphone:function(t){var e=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|145|147|159|153)+\d{8})$/;return!!e.test(t)},check:function(t,e,a){YS("validate",function(){$.validator.addMethod("ismobile",function(t,e){var a=t.length,n=/^(13[0-9]{9})|(18[0-9]{9})|(14[0-9]{9})|(17[0-9]{9})|(15[0-9]{9})$/;return this.optional(e)||11==a&&n.test(t)},"请正确填写您的手机号码"),$.validator.setDefaults({submitHandler:a}),$(t).validate(e)})},checkx:function(t,e){YS("validationEngine",function(){$(t).validationEngine({custom_error_messages:e})})},disb:function(t,e){var a=e||2e3;t.prop("disabled",!0),setTimeout(function(){t.prop("disabled",!1)},a)},sendphone:function(t){var e=59;t.attr("disabled","true").css("opacity",.7);var a=setInterval(function(){return 0===e?(t.val("发送验证码"),t.removeAttr("disabled").css("opacity",1),clearInterval(a),!1):(t.val(""+e+"秒重发"),void e--)},1e3)},yzm:function(){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],e="",a=0;a<4;a++)e+=""+t[Math.floor(Math.random()*t.length)];return e},winprove:function(t,e,a){var n=JSON.stringify(t);n=n.replace(/{/,""),n=n.replace(/}/,""),n=n.replace(/"/g,"");for(var o=n.split(","),i=0;i<o.length;i++){var r=o[i].split(":");if(""===r[1]){if(!a)return layer.msg(e[i]+"未填写"),!1;for(var c=0,l=0;l<a.length;l++)r[0]==a[l]&&c++;if(0===c)return layer.msg(e[i]+"未填写"),!1}}},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},monlastday:function(t){var a="";if(parseInt(t)>0){var n=new Date(1e3*t),o=n.getYear()+1900,i=n.getMonth()+1;i=i<10?"0"+i:i,n=n.getDate(),n=n<10?"0"+n:n,ymd=o+"-"+i+"-"+n;var r=e.getyuemo(ymd);return console.log(o+"-"+i+"-"+r),o+"-"+i+"-"+r}return a},getmonthcn:function(t){var e="";if(parseInt(t)>0){var a=new Date(1e3*t),n=a.getYear()+1900,o=a.getMonth()+1;return o=o<10?"0"+o:o,a=a.getDate(),a=a<10?"0"+a:a,n+"年"+o+"月"}return e},getyuemo:function(t){var a=[];return a=t.split("-"),a[1]=parseInt(a[1]),1==a[1]||3==a[1]||5==a[1]||7==a[1]||8==a[1]||10==a[1]||12==a[1]?"31":4==a[1]||6==a[1]||9==a[1]||11==a[1]?"30":e.isLeapYear(a[0])?"29":"28"},getNextMonth:function(t){var e=t.split("-"),a=e[0],n=e[1],o=e[2],i=new Date(a,n,0);i=i.getDate();var r=a,c=parseInt(n)+1;13==c&&(r=parseInt(r)+1,c=1);var l=o,d=new Date(r,c,0);d=d.getDate(),l>d&&(l=d),c<10&&(c="0"+c);var s=r+"-"+c+"-"+l;return s},getMonths:function(t,e){t=t.split("-"),e=e.split("-");var a=parseInt(t[0]);return month1=parseInt(t[1]),year2=parseInt(e[0]),month2=parseInt(e[1]),months=12*(year2-a)+(month2-month1)+1,months},monfirstday:function(t){var e="";if(parseInt(t)>0){var a=new Date(1e3*t),n=a.getYear()+1900,o=a.getMonth()+1;return o=o<10?"0"+o:o,a=a.getDate(),a=a<10?"0"+a:a,console.log(n+"-"+o+"-01"),n+"-"+o+"-01"}return e},timetostr:function(t){var e=t.split("-"),a=parseInt(e[0],10),n=parseInt(e[1],10)-1,o=parseInt(e[2],10),i=new Date(a,n,o);return i.getTime()},strtotime:function(t){var e="";if(parseInt(t)>0){var a=new Date(1e3*t),n=a.getYear()+1900,o=a.getMonth()+1;return o=o<10?"0"+o:o,a=a.getDate(),a=a<10?"0"+a:a,n+"-"+o+"-"+a}return e},getObjectURL:function(t){var e=null;return void 0!==window.createObjectURL?e=window.createObjectURL(t):void 0!==window.URL?e=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},GetQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!==a?decodeURI(a[2]):""},MD5:function(t){function e(t,e){return t<<e|t>>>32-e}function a(t,e){var a,n,o,i,r;return o=2147483648&t,i=2147483648&e,a=1073741824&t,n=1073741824&e,r=(1073741823&t)+(1073741823&e),a&n?2147483648^r^o^i:a|n?1073741824&r?3221225472^r^o^i:1073741824^r^o^i:r^o^i}function n(t,e,a){return t&e|~t&a}function o(t,e,a){return t&a|e&~a}function i(t,e,a){return t^e^a}function r(t,e,a){return e^(t|~a)}function c(t,o,i,r,c,l,d){return t=a(t,a(a(n(o,i,r),c),d)),a(e(t,l),o)}function l(t,n,i,r,c,l,d){return t=a(t,a(a(o(n,i,r),c),d)),a(e(t,l),n)}function d(t,n,o,r,c,l,d){return t=a(t,a(a(i(n,o,r),c),d)),a(e(t,l),n)}function s(t,n,o,i,c,l,d){return t=a(t,a(a(r(n,o,i),c),d)),a(e(t,l),n)}function m(t){for(var e,a=t.length,n=a+8,o=(n-n%64)/64,i=16*(o+1),r=Array(i-1),c=0,l=0;l<a;)e=(l-l%4)/4,c=l%4*8,r[e]=r[e]|t.charCodeAt(l)<<c,l++;return e=(l-l%4)/4,c=l%4*8,r[e]=r[e]|128<<c,r[i-2]=a<<3,r[i-1]=a>>>29,r}function u(t){var e,a,n="",o="";for(a=0;a<=3;a++)e=t>>>8*a&255,o="0"+e.toString(16),n+=o.substr(o.length-2,2);return n}var p,f,g,_,h,y,v,w,b,k=Array(),$=7,x=12,I=17,D=22,j=5,T=9,S=14,C=20,z=4,M=11,O=16,R=23,E=6,Y=10,L=15,q=21;for(k=m(t),y=1732584193,v=4023233417,w=2562383102,b=271733878,p=0;p<k.length;p+=16)f=y,g=v,_=w,h=b,y=c(y,v,w,b,k[p+0],$,3614090360),b=c(b,y,v,w,k[p+1],x,3905402710),w=c(w,b,y,v,k[p+2],I,606105819),v=c(v,w,b,y,k[p+3],D,3250441966),y=c(y,v,w,b,k[p+4],$,4118548399),b=c(b,y,v,w,k[p+5],x,1200080426),w=c(w,b,y,v,k[p+6],I,2821735955),v=c(v,w,b,y,k[p+7],D,4249261313),y=c(y,v,w,b,k[p+8],$,1770035416),b=c(b,y,v,w,k[p+9],x,2336552879),w=c(w,b,y,v,k[p+10],I,4294925233),v=c(v,w,b,y,k[p+11],D,2304563134),y=c(y,v,w,b,k[p+12],$,1804603682),b=c(b,y,v,w,k[p+13],x,4254626195),w=c(w,b,y,v,k[p+14],I,2792965006),v=c(v,w,b,y,k[p+15],D,1236535329),y=l(y,v,w,b,k[p+1],j,4129170786),b=l(b,y,v,w,k[p+6],T,3225465664),w=l(w,b,y,v,k[p+11],S,643717713),v=l(v,w,b,y,k[p+0],C,3921069994),y=l(y,v,w,b,k[p+5],j,3593408605),b=l(b,y,v,w,k[p+10],T,38016083),w=l(w,b,y,v,k[p+15],S,3634488961),v=l(v,w,b,y,k[p+4],C,3889429448),y=l(y,v,w,b,k[p+9],j,568446438),b=l(b,y,v,w,k[p+14],T,3275163606),w=l(w,b,y,v,k[p+3],S,4107603335),v=l(v,w,b,y,k[p+8],C,1163531501),y=l(y,v,w,b,k[p+13],j,2850285829),b=l(b,y,v,w,k[p+2],T,4243563512),w=l(w,b,y,v,k[p+7],S,1735328473),v=l(v,w,b,y,k[p+12],C,2368359562),y=d(y,v,w,b,k[p+5],z,4294588738),b=d(b,y,v,w,k[p+8],M,2272392833),w=d(w,b,y,v,k[p+11],O,1839030562),v=d(v,w,b,y,k[p+14],R,4259657740),y=d(y,v,w,b,k[p+1],z,2763975236),b=d(b,y,v,w,k[p+4],M,1272893353),w=d(w,b,y,v,k[p+7],O,4139469664),v=d(v,w,b,y,k[p+10],R,3200236656),y=d(y,v,w,b,k[p+13],z,681279174),b=d(b,y,v,w,k[p+0],M,3936430074),w=d(w,b,y,v,k[p+3],O,3572445317),v=d(v,w,b,y,k[p+6],R,76029189),y=d(y,v,w,b,k[p+9],z,3654602809),b=d(b,y,v,w,k[p+12],M,3873151461),w=d(w,b,y,v,k[p+15],O,530742520),v=d(v,w,b,y,k[p+2],R,3299628645),y=s(y,v,w,b,k[p+0],E,4096336452),b=s(b,y,v,w,k[p+7],Y,1126891415),w=s(w,b,y,v,k[p+14],L,2878612391),v=s(v,w,b,y,k[p+5],q,4237533241),y=s(y,v,w,b,k[p+12],E,1700485571),b=s(b,y,v,w,k[p+3],Y,2399980690),w=s(w,b,y,v,k[p+10],L,4293915773),v=s(v,w,b,y,k[p+1],q,2240044497),y=s(y,v,w,b,k[p+8],E,1873313359),b=s(b,y,v,w,k[p+15],Y,4264355552),w=s(w,b,y,v,k[p+6],L,2734768916),v=s(v,w,b,y,k[p+13],q,1309151649),y=s(y,v,w,b,k[p+4],E,4149444226),b=s(b,y,v,w,k[p+11],Y,3174756917),w=s(w,b,y,v,k[p+2],L,718787259),v=s(v,w,b,y,k[p+9],q,3951481745),y=a(y,f),v=a(v,g),w=a(w,_),b=a(b,h);var N=u(y)+u(v)+u(w)+u(b);return N.toLowerCase()}};return e}])}),define("main",["jquery","angularjs"],function(require,exports,module){var myctrl=angular.module("main",["RongWebIMWidget"]);myctrl.filter("htmlfil",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]),myctrl.filter("myfil",["fac",function(t){return function(t,e){var a=[];return angular.forEach(t,function(t,n){t.pid==e&&a.push(t)}),a}}]),myctrl.filter("planfil",["fac",function(t){return function(t,e){var a=[],n=e+"ornot";return angular.forEach(t,function(t,e){"1"==t[n]&&a.push(t)}),a}}]),myctrl.filter("workfil",["fac",function(t){return function(t,e){var a=[];return"0"==e||"3"==e?t:"1"==e?(angular.forEach(t,function(t,e){"3"==t.fid&&a.push(t)}),a):"2"==e?(angular.forEach(t,function(t,e){"3"!=t.fid&&a.push(t)}),a):void 0}}]),myctrl.controller("main_ctrl",["$scope","fac",function($scope,fac){function setmenu(t,e,a){var n=e.split("#")[1];if(n=void 0===n?"/system/city":n){var o=n.split("/")[1],i=n.split("/")[2],r="",c="",l="";angular.forEach(t.ysmenu_list,function(e,a){e.tap==o?(e.now="active",c=e.title,t.maper.topurl=o+"/"+e.chl[0].tap,console.log(t.maper.topurl)):e.now="",i?(angular.forEach(e.chl,function(t,e){t.tap==i?(t.now="active",l=t.title):t.now=""}),r=i):e.tap==o&&(angular.forEach(e.chl,function(t,e){t.now=""}),e.chl[0].now="active",r=e.chl[0].tap,l=e.chl[0].title)}),t.win.url="",t.body.url="./admin/html/"+o+"/"+r+".html",t.maper.one=c,t.maper.oneurl=o,t.maper.two=l,t.maper.twourl=i;var d=fac.getstore("prname");t.maper.prname=d?d:"",console.log(t.maper);1==a?t.$apply():""}}$scope.win={url:"",portkey:"",extendone:"",extendtwo:"",extendthree:"",extname:""},$scope.maper={one:"",oneurl:"",two:"",twourl:"",topurl:""},$scope.litsave=0,$scope.isshow="1",$scope.showtype="0",$scope.lsshow="1",$scope.winpop={url:"",datalist:""},$scope.zllistdata={list:[],name:"",id:"",t:"",zf:""},$scope.typelist=config.typelist,$scope.yctypelist=config.yctypelist,$scope.ftypelist=config.ftypelist,$scope.qdypelist=config.qdypelist,$scope.sjtypelist=config.sjtypelist,$scope.kstypelist=config.kstypelist,YS("form"),YS("shCircleLoader",function(){$("#loader").shCircleLoader({color:"#2AA2D4"})}),YS("laypage"),YS("bootstrap"),YS("layer"),setTimeout(function(){YS("getLodop")},2e3),YS("tableExport"),YS("laydate",{},"molv"),$scope.body={url:"",zlurl:"",tableurl:""},window.onhashchange=function(){setmenu($scope,location.href,1)},$scope.com_logoutFun=function(t,e){1==t.code&&(layer.msg("退出成功",{icon:1}),setTimeout(function(){window.location.href="./login.html"},1e3))},$scope.com_logoutTime={time:0,def:0},fac.post_data_watch($scope,"com_logout"),$scope.com_provinceTime={time:0,def:1},fac.post_data($scope,"com_province"),$scope.com_cityData={pid:""},$scope.com_cityTime={time:0,def:0},fac.post_data_watch($scope,"com_city"),$scope.ysmenu_listTime={time:0,def:1},$scope.ysmenu_listFun=function(t){setmenu($scope,location.href,0)},fac.post_data($scope,"ysmenu_list"),$scope.com_infoFun=function(re,sco){setTimeout(function(){with(window._bd_share_config={common:{onBeforeClick:function(t,e){},onAfterClick:function(t){$scope.com_shareData={type:t},$scope.com_shareTime.time=fac.time(),$scope.$apply()}},share:[{tag:"share_1",bdSize:24,bdText:"河狸建筑工程信息化平台,集成功能：送检计划，送检汇总，进度管理，漏送统计及提示，送检异常统计，城市温度采集，同养温度计算及累计，形象进度图，横道图，资料打印等功能。手机微信关注：河狸建筑，让你随时随地了解现场及送检进度",bdDesc:"河狸建筑工程信息化平台,集成功能：送检计划，送检汇总，进度管理，漏送统计及提示，送检异常统计，城市温度采集，同养温度计算及累计，形象进度图，横道图，资料打印等功能。手机微信关注：河狸建筑，让你随时随地了解现场及送检进度",bdUrl:"http://www.ysjianzhu.com/index.html?from="+re.data.tuijian+"&a=123",bdPic:"http://www.ysjianzhu.com/images/ysshare.jpg"}]},document)(0)[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion="+~(-new Date/36e5)]},1e3)},fac.get_data($scope,"com_info"),$scope.com_shareData={type:""},$scope.com_shareTime={time:0,def:0},fac.post_data_watch($scope,"com_share"),$scope.com_feedData={content:"",qq:""},$scope.com_feedTime={time:0,def:0},fac.post_data_watch($scope,"com_feed"),$scope.com_wenduData={codeid:""},$scope.com_wenduTime={time:0,def:0},fac.post_data_watch($scope,"com_wendu"),$scope.winTime={time:""},$scope.$watch("winTime",function(){$scope.winTime.time&&($scope.win.url="./main/html/win/"+window.config.win[$scope.win.portkey].template+".html?time="+fac.time())},!0),$scope.winData={},$scope.winready=function(){var t=$scope.win.extname?$scope.win.extname+"-":"",e=t+window.config.win[$scope.win.portkey].title,a=$(".winbody").attr("w"),n=$(".winbody").attr("h"),o=$(".winbody").attr("late");o=o?o:100,setTimeout(function(){layer.open({type:1,title:e,shadeClose:!0,skin:"layui-layer-lan",area:[a,n],content:$("#win")})},o)},$scope.store=function(t){return fac.getstore(t)},$scope.lq=function(t,e){var a="";return t&&e&&(a=(fac.time(e)-fac.time(t))/1e3/86400),a},$scope.dqlq=function(t){var e="";return t&&(e=(fac.time()-fac.time(t))/1e3/86400),parseInt(e)},$scope.slq=function(t,e,a){var n=1==a?fac.time(e):fac.time(),o=parseInt((n-fac.time(t))/864e5);return o+="天"},$scope.hei=function(t,e){var a=0,n=0;if(t)return angular.forEach(t,function(t){3==t.fid&&(a+=1),4==t.fid&&(n+=1)}),1==e?40*a:2==e?40*n:0==e?40*t.length:void 0},$scope.tystl=function(t,e){var a=0,n="当前累计温度";return t>=560&&t<=600&&(a=1,n="温度即将到达600℃，请留意送检"),0==e&&t>600&&(a=2,n="规范要求同养温度必须达到600℃"),1==e&&t<600&&(a=2,n="部位温度超过600℃，还未送检，请及时送检"),{str:n,stl:a}},$(window).on("scroll",function(){$("#yctip")&&($("body").scrollTop()>100&&"none"==$("#yctip").css("display")&&$("#yctip").fadeIn(300),$("body").scrollTop()<100&&"none"!=$("#yctip").css("display")&&$("#yctip").fadeOut(300)),$("#sjtip")&&($("body").scrollTop()>100&&"none"==$("#sjtip").css("display")&&$("#sjtip").fadeIn(300),$("body").scrollTop()<100&&"none"!=$("#sjtip").css("display")&&$("#sjtip").fadeOut(300))})}]),myctrl.controller("login_ctrl",["$scope","fac",function(t,e){YS("layer"),YS("form"),t.from={status:e.getstore("from"),code:e.getstore("from")},console.log(t.fromCode),e.get_data(t,"com_request"),t.regdata={tel:"",yzmcode:""},t.resetdata={tel:"",yzmcode:""},t.regbinddata={tel:"",yzmcode:""},t.temdata={tap:0,nickname:""};var a=e.GetQueryString("tap");a&&(t.temdata.tap=a),t.temdata.nickname=e.GetQueryString("nickname"),setTimeout(function(){var t=e.getstore("uinfo");t&&($("#ysusername").val(t.u),$("#yspassword").val(t.p),$("#yspassword").next().val(t.p2),$("#rem").prop("checked",!0))},300),0==t.temdata.tap&&e.check("#logform",{messages:{ysusername:{required:"请输入用户名/手机号",minlength:"用户名/手机号不少于6位数"},yspassword:{required:"请输入密码",minlength:"密码不少于6位数"}}},function(){e.disb($("#loginbtn")),$("#logform").ajaxSubmit({success:function(t){if(1==t.code){var a=$("#rem").is(":checked"),n={u:$("#ysusername").val(),p:$("#yspassword").val(),p2:$("#yspassword").next().val()};a?e.setstore("uinfo",n):e.unsetstore("uinfo");window.location.href="/main.html#/program/pro"}else layer.msg(t.msg,{icon:0})},error:function(t){layer.msg("链接超时",{icon:0})}})}),1==t.temdata.tap&&e.check("#regform",{rules:{tel:{ismobile:!0,remote:{url:"/api/ver1/Login/checkphone",type:"post",dataType:"json",dataFilter:function(t){var e="true"!=t;return $("#sendcode").prop("disabled",!e),e}}}},messages:{tel:{required:"请输入手机号",minlength:"确认手机不能小于11个字符",ismobile:"请输入有效的手机号码",remote:"该手机已被注册，请重新输入或直接登录"},yzmcode:{required:"请输入验证码"},msgcode:{required:"请输入手机验证码",digits:"验证码必须是数字",minlength:"验证码不少于4位"},regpsd:{required:"请输入密码",minlength:"密码不少于6个字符"}}},function(){e.disb($("#regbtn")),$("#regform").ajaxSubmit({success:function(t){1==t.code?(layer.msg(t.msg,{icon:1}),setTimeout(function(){window.location.href="/main.html#/program/pro"},1e3)):layer.msg(t.msg,{icon:0})}})}),2==t.temdata.tap&&e.check("#reform",{rules:{tel:{ismobile:!0,remote:{url:"/api/ver1/Login/checkphone",type:"post",dataType:"json",dataFilter:function(t){var e="true"==$.trim(t);return $("#sendcode").prop("disabled",!e),e}}}},messages:{tel:{required:"请输入手机号",minlength:"确认手机不能小于11个字符",ismobile:"请输入有效的手机号码",remote:"该手机号不存在"},yzmcode:{required:"请输入验证码"},msgcode:{required:"请输入手机验证码",digits:"验证码必须是数字",minlength:"验证码不少于4位"},repsd:{required:"请输入密码",minlength:"密码不少于6个字符"}}},function(){e.disb($("#rebtn")),$("#reform").ajaxSubmit({success:function(t){1==t.code?(layer.msg(t.msg,{icon:1}),setTimeout(function(){window.location.href="/login.html"},1e3)):layer.msg(t.msg,{icon:0})}})}),3==t.temdata.tap&&e.check("#regbindform",{rules:{tel:{ismobile:!0,remote:{url:"/api/ver1/Login/checkphone",type:"post",dataType:"json",dataFilter:function(t){var e="true"!=t;return $("#sendcode").prop("disabled",!e),e}}}},messages:{tel:{required:"请输入手机号",minlength:"确认手机不能小于11个字符",ismobile:"请输入有效的手机号码",remote:"该手机已被注册，请选择已有账号绑定"},yzmcode:{required:"请输入验证码"},msgcode:{required:"请输入手机验证码",digits:"验证码必须是数字",minlength:"验证码不少于4位"},rebpsd:{required:"请输入密码",minlength:"密码不少于6个字符"}}},function(){e.disb($("#regbindbtn")),$("#regbindform").ajaxSubmit({success:function(t){1==t.code?(layer.msg(t.msg,{icon:1}),setTimeout(function(){window.location.href="/main.html#/program/pro"},2e3)):layer.msg(t.msg,{icon:0})}})}),4==t.temdata.tap&&e.check("#oldform",{messages:{tel:{required:"请输入用户名/手机号",minlength:"用户名/手机号不少于6位数"},rebpsd:{required:"请输入密码",minlength:"密码不少于6个字符"}}},function(){e.disb($("#oldbtn")),$("#oldform").ajaxSubmit({success:function(t){1==t.code?(layer.msg(t.msg,{icon:1}),setTimeout(function(){window.location.href="/main.html#/program/pro"},2e3)):layer.msg(t.msg,{icon:0})}})}),t.yzm=function(){var t="index.php/captcha/new.html?height=32&width=150&font_size=18";e.get(t,{},function(t){$("#yzm").attr("src","index.php/captcha/new.html?height=32&width=150&font_size=18")})},t.yzm()}]),myctrl.controller("zlhz_ctrl",["$scope","fac",function(t,e){YS("getLodop"),t.tbname=e.GetQueryString("tb"),t.zlhzbody={url:"ziliao/gd/tujian/"+t.tbname+".html"},t.hzid=t.$id,t.Sdata={},t.has=0,t.$watch("Sdata",function(t){},!0)}]),myctrl.directive("loginenter",["fac",function(t){return{link:function(t,e,a,n){e.on("keyup",function(t){13===t.which&&$("#loginbtn").trigger("click")})}}}]),myctrl.directive("combtn",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.combtn+"Time";e[a].time=t.time(),e.$apply()})}}}]),myctrl.directive("pswmd5",["fac",function(t){return{link:function(e,a,n,o){a.on("keyup",function(){var e=t.MD5($(this).val());$(this).next().val(e)})}}}]),myctrl.controller("com_ctrl",["$scope","fac",function(t,e){t.comctrlid=t.$id;var a=location.href.split("#")[1];if(a=void 0===a?"/program/pro":a,a||a.split("/")[2]){var n=a.split("/")[1]+"_"+a.split("/")[2],o=window.config.port[n];for(var i in o){var r=n+"_"+i,c=o[i].before;if(c){"function"==typeof c?c(t):""}if(o[i].send){var l=r+"Data";o[i].send.curPage?o[i].send.curPage=1:"";t[l]=o[i].send}if(void 0!==o[i].t){var d=r+"Time",s={time:"",def:o[i].t};s.time=s.def,t[d]=s}if(o[i].fun){var m=r+"Fun";t[m]=o[i].fun}var u=o[i].facfun;e[u](t,r),console.log({name:o[i].pname,cope:t})}}}]),myctrl.controller("tables_ctrl",["$scope","fac",function(t,e){var a="json/data.json",n="";t.alldata=[],e.get(a,n,function(e){return e.code>0?(layer.msg("请求成功!"),void(t.alldata=e.data)):(layer.msg("请求失败"),!1)})}]),myctrl.controller("zl_ctrl",["$scope","fac",function(t,e){YS("layer");var a=e.getscope_byid(t,t.hzid),n=e.getstore("zlval");n.prcodeid=e.getstore("prcodeid"),n.scodeid=e.getstore("scodeid"),n.code||(n.code=e.GetQueryString("tb")),n.codeid=n.codeid.join(","),t.com_zlData=n,t.com_zlFun=function(t,e){a.Sdata=t.data,a.has=t.hasuser},e.post_data(t,"com_zl")}]),myctrl.controller("jilu_ctrl",["$scope","fac",function(t,e){YS("layer"),t.lsshow=1,t.com_jiluData={codeid:e.GetQueryString("id")},t.com_jiluFun=function(e,a){t.jlname=e.jlname},e.post_data(t,"com_jilu")}]),myctrl.controller("hdtworklist_ctrl",["$scope","fac",function(t,e){function a(t,a){for(var n=[],o=t,i=0;i<a;i++){var r="";0===i?r=o:(r=e.timetostr(e.getNextMonth(e.strtotime(o)))/1e3,o=r);var c={};c.title=e.getmonthcn(r),c.chl=["5","10","15","20","25",e.getyuemo(e.strtotime(r))],n.push(c)}return n}console.log(t);var n=root2+"ver1/Index/program_gantt_worklist";e.post(n,{codeid:localStorage.getItem("hcodeid")},function(n){if(1==n.code){var o=n.data.hdata[0];n.data.datalist.sort(function(t,e){return t.myorder-e.myorder}),t.maindata=n.data.datalist,t.title=o.htitle,t.ftitle=o.ftitle,t.danwei=o.comtitle,t.crtime="编制时间："+o.creat_time,t.btime=o.btime,t.etime=o.etime,t.data=[],angular.forEach(t.maindata,function(a){var n={};n.title=a.rtitle,n.riqi=e.time(a.rbtime)/1e3,n.time=e.time(a.retime)/1e3,t.data.push(n)});var i=e.timetostr(o.btime)/1e3,r=e.timetostr(o.etime)/1e3,c=(r-i)/86400,l=parseInt(c/30)+1,d=a(i,l);t.mddata=d;var s=0;angular.forEach(t.data,function(t,e){t.title.length>s&&(s=t.title.length)});var m=14*s+14,u=120*d.length,p=50,f=25*t.data.length,g=100+m+u+100+288,_=100+p+f+100;t.svgw=g,t.svgh=_,t.titlew=m,t.biaotouwidth=m+288,t.tablew=m+288+u,t.tableh=50+f,t.tbodyw=u,t.tbodyh=f,t.temdata={},t.bianhao="编号",t.renwu="任务名称",t.kaishi="开始日期",t.jieshu="结束日期",t.gongqi="工期"}}),t.strtime=function(t){var a=parseInt(t),n="";return n=a>0?e.strtotime(a):""},t.jianfa=function(t,e){var a="",n=e-t;return e>0&&t>0&&(a=n/24/60/60+1),a},t.cerlen=function(t,a){var n="",o=a-t;n=o/24/60/60+1;for(var i=4*n,r=e.getyuemo(e.strtotime(t)),c=e.monlastday(t),l=e.timetostr(c)/1e3,d=0;l<=a&&30!=r;){31==r&&(d+=1),28==r&&(d-=2),29==r&&(d-=1);var s=e.getNextMonth(e.strtotime(l));r=e.getyuemo(s);var m=e.monlastday(e.timetostr(s));l=e.timetostr(m)/1e3}var u=4*d,p=i-u;return p},t.bglen=function(t,a,n){var o=t,i=e.monfirstday(a),r=e.timetostr(i)/1e3,c=e.getMonths(o,i)-1,l=(a-r)/24/60/60,d=120*c+4*Math.floor(l)+n+100;return d},$(document).on("click","#btnPrint",function(){YS("printarea",function(){$("#printContent").printArea()})})}]),myctrl.directive("ganttworkwin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);t.setstore("hcodeid",e.value.codeid),a.win.portkey=n.ganttworkwin,e.$parent.$parent.worklist.time=t.time(),e.$parent.$parent.worklist.codeid=e.$parent.value.codeid,e.win.url="./html/win/"+window.config.win[n.ganttworkwin].template+".html?time="+t.time(),a.$apply()})}}}]),myctrl.directive("changekey",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){t[a.changekey][a.key]=a.val,t.$apply()})}}}]),myctrl.directive("bychangeexcel",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var a=t.getscope_byid(e,e.comctrlid);$(n.element).ajaxSubmit({url:root2+"ver1/Index/exportxlssongjian",success:function(t){a.winsongjian=t.data,a.$apply()}})})}}}]),myctrl.directive("tableexport",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){$("#tableexport").tableExport({type:"excel"})})}}}]),myctrl.directive("layerdateone",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){var e=a.layerdateone,n=a.key;laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(a){t[e][n]=a}})})}}}]),myctrl.directive("laydateedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.laydateedit,o=$(this);laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(n){e.value[a]=n;var i={};i.codeid=e.value.codeid,i[a]=n;var r=root2+config.url.com_em.url;t.post(r,i,function(e){t.msg(e),1==e.code?o.addClass("ipright").removeClass("ipwrong"):o.addClass("ipwrong").removeClass("ipright")})},cleardate:function(){var n={};n.codeid=e.value.codeid,n[a]=0;var i=root2+config.url.com_em.url;t.post(i,n,function(e){t.msg(e),1==e.code?o.addClass("ipright").removeClass("ipwrong"):o.addClass("ipwrong").removeClass("ipright")})}})})}}}]),myctrl.directive("duibilaydate",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.duibilaydate,o=$(this);laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(n){if(e.value[a]=n,t.time(e.value.retime)<t.time(e.value.rbtime)&&e.value.retime)return layer.msg("结束日期必须大于开始日期",{icon:0}),!1;var i={};i.codeid=e.value.codeid,i[a]=n;var r=root2+config.url.com_em.url;t.post(r,i,function(e){t.msg(e),1==e.code?o.addClass("ipright").removeClass("ipwrong"):o.addClass("ipwrong").removeClass("ipright")})},cleardate:function(){var n={};n.codeid=e.value.codeid,n[a]=0;var i=root2+config.url.com_em.url;t.post(i,n,function(e){t.msg(e),1==e.code?o.addClass("ipright").removeClass("ipwrong"):o.addClass("ipwrong").removeClass("ipright")})}})})}}}]),myctrl.directive("bylaydate",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.bylaydate;$(this);laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(n){e.value[a]=n;var o=t.time(n),i={};i.codeid=e.value.codeid,i.byriqi=n;var r=o+24192e5;e.value.bytime=i.bytime=t.numtotime(r);var c=o+2592e6;e.value.kstime=i.kstime=t.numtotime(c);var l=o+24192e5;e.value.zttime=i.zttime=t.numtotime(l);var d=o+6048e5;e.value.cmtime=i.cmtime=t.numtotime(d);var s=root2+config.url.com_em.url;t.post(s,i,function(a){t.msg(a),e.bytip=1==a.code?"ipright":"ipwrong"})},cleardate:function(){var n={};n.codeid=e.value.codeid,n[a]=0,n.bytime=0,e.value.bytime="",n.kstime=0,e.value.kstime="",n.zttime=0,e.value.zttime="",n.cmtime=0,e.value.cmtime="";var o=root2+config.url.com_em.url;t.post(o,n,function(a){t.msg(a),e.bytip=1==a.code?"ipright":"ipwrong"})}})})}}}]),myctrl.directive("sjlaydate",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.sjlaydate+"riqi",o=n.sjlaydate+"time",i=n.sjlaydate+"tip";$(this);laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(n){e.value[a]=n;var r={};r.codeid=e.value.codeid,r[a]=n;var c=t.time(n);e.value[o]=r[o]=t.numtotime(c+24192e5);var l=root2+config.url.com_em.url;t.post(l,r,function(a){t.msg(a),e.value[i]=1==a.code?"ipright":"ipwrong"})},cleardate:function(){var n={};n.codeid=e.value.codeid,n[a]=0,n[o]=0,e.value[o]="";var i=root2+config.url.com_em.url;t.post(i,n,function(a){t.msg(a),e.value.sjtip=1==a.code?"ipright":"ipwrong"})}})})}}}]),myctrl.directive("yclaydate",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a="",o="";"intime"==n.yclaydate?(a="intime",o="stime"):(a="stime",o="intime");$(this);laydate.skin("molv"),laydate({format:"YYYY-MM-DD",festival:!0,choose:function(n){e.value[a]=n;var i={};i.codeid=e.value.codeid;t.time(n);if(i[a]=n,"intime"==a)i[o]=n,e.value[o]=n;else if(t.time(e.value.stime)<t.time(e.value.intime))return layer.msg("送检日期必须大于进场日期",{icon:5}),!1;var r=root2+config.url.com_em.url;t.post(r,i,function(a){t.msg(a),e.value.yctip=1==a.code?"ipright":"ipwrong"})},cleardate:function(){var n={};n.codeid=e.value.codeid,n[a]=0,n[o]=0,e.value[o]="";var i=root2+config.url.com_em.url;t.post(i,n,function(a){t.msg(a),e.value.yctip=1==a.code?"ipright":"ipwrong"})}})})}}}]),myctrl.directive("byyledit",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(o){var i=($(this),n.byyledit),r={};r.codeid=e.value.codeid,r[i]=a.val();var c=parseInt(a.val());r.byzushu=c>=1e3?Math.ceil(c/200):Math.ceil(c/100),e.value.byzushu=r.byzushu;var l=root2+config.url.com_em.url;t.post(l,r,function(a){t.msg(a),e.yltip=1==a.code?"ipright":"ipwrong"})})}}}]),myctrl.directive("comwinadd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);1==n.gantt&&(e.winData={}),a.winTime.time=t.time(),a.win.portkey=n.comwinadd,a.win.extendtwo=n.extendtwo?n.extendtwo:"",a.win.extendone=n.extendone?n.extendone:"",a.win.extendthree=n.extendthree?n.extendthree:"";for(var o in window.config.win[n.comwinadd].temdata)window.config.win[n.comwinadd].temdata[o]="";a.winData=angular.copy(window.config.win[n.comwinadd].temdata),a.$apply()})}}}]),myctrl.directive("comwinedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);a.winTime.time=t.time(),a.win.portkey=n.comwinedit,a.win.extendtwo=n.extendtwo?n.extendtwo:"",a.win.extendone=n.extendone?n.extendone:"",a.win.extname=n.extname?n.extname:"",a.winData=e.value,a.$apply()})}}}]),myctrl.directive("comsetwin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);a.winTime.time=t.time();var o=n.len;a.win.portkey=n.comsetwin,a.win.extendone=n.key,a.win.extendtwo=n.key+"arr",a.win.extname=n.extname?n.extname:"",e.value.len=[];for(var i=0;i<o;i++)e.value.len.push({});a.winData=e.value,a.$apply()})}}}]),myctrl.directive("wenduwin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);a.com_wenduData={codeid:e.value.codeid,type:"ty"},a.com_wenduFun=function(e){a.winTime.time=t.time(),a.win.portkey=n.wenduwin,a.win.extname=n.extname?n.extname:""},a.com_wenduTime.time=t.time(),a.$apply()})}}}]),myctrl.directive("xlsimport",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2),o=t.getscope_byid(e,e.comctrlid);a.winTime.time=t.time(),o.winsongjian=[],o.win.portkey=n.xlsimport,o.$apply()})}}}]),myctrl.directive("printwin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=[];if($("input[name="+n.type+"]").each(function(t,e){e.checked&&a.push(e.value)}),a.length||layer.msg("请勾选需要汇总打印的选项！",{icon:0}),a.length){t.setstore("zlval",{codeid:a,type:n.type});var o=t.getscope_byid(e,2);o.winTime.time=t.time(),o.win.portkey=n.printwin,o.$apply()}})}}}]),myctrl.directive("saveresult",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);console.log(a.winData);var n=$("#resultval").find("input"),o=[],i=[];n.each(function(t,e){e.value&&(i.push({val:e.value}),o.push(e.value))});var r=o.join(","),c={};c.codeid=a.winData.codeid,c[a.win.extendone]=r;var l=root2+config.url.com_em.url;t.post(l,c,function(e){t.msg(e),1==e.code&&(layer.closeAll(),a.winData[a.win.extendone]=r,a.winData[a.win.extendtwo]=i)})})}}}]),myctrl.directive("prowinedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);a.winTime.time=t.time(),a.win.portkey=n.prowinedit;var o=t.getscope_byid(e,2);a.program_pro_infoTime.time=t.time(),
a.program_pro_infoData.codeid=e.value.codeid,a.program_pro_infoFun=function(e,a){e.data[0].pid&&(o.com_cityData={pid:e.data[0].pid},o.com_cityTime.time=t.time())},a.$apply()})}}}]),myctrl.directive("sinwinedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);a.winTime.time=t.time(),a.win.portkey=n.sinwinedit,a.win.extendtwo=n.extendtwo?n.extendtwo:"",a.win.extendone=n.extendone?n.extendone:"",a.winData=e.v,a.$apply()})}}}]),myctrl.directive("ganttwin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);a.winTime.time=t.time(),a.win.portkey=n.ganttwin,t.setstore("hcodeid",e.value.codeid),a.program_gantt_worklistTime.time=t.time(),a.program_gantt_worklistData.codeid=e.value.codeid,a.$apply()})}}}]),myctrl.directive("comdelone",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid),o=n.comdelone+"Data";if(a[o]={codeid:n.sendid},!n.sendid)return layer.msg("参数错误"),!1;var i=layer.confirm("您确定要删除么？",{btn:["确定","取消"]},function(){var e=n.comdelone+"Time";a[e].time=t.time(),a.$apply(),layer.close(i)}),r=(e.$index,n.comdelone+"Fun");a[r]=function(o){if("1"==o.code){"program_pro_del"==n.comdelone&&(a.program_pro_listTime.time=t.time()),t.lmsg(o);e.v?e.v.isdel=1:e.value.isdel=1}else t.lmsg(o)}})}}}]),myctrl.directive("delmore",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=t.getscope_byid(e,e.comctrlid),i=[],r=[];angular.forEach(o[n.from].datalist,function(t,e){1==t.check&&(r.push(e),i.push(t.codeid))});var c=n.delmore+"Fun";if(o[c]=function(e){"1"==e.code?(t.lmsg(e),r.map(function(t){o[n.from].datalist[t].isdel=1})):layer.msg(e.msg)},!i.length)return layer.msg("请选择选项",{icon:0}),!1;var l=layer.confirm("您确定要删除么？",{btn:["确定","取消"]},function(){var e=n.delmore+"Time",a=n.delmore+"Data";o[a].codeid=i,o[e].time=t.time(),o.$apply(),layer.close(l)})})}}}]),myctrl.directive("addpro",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);return a.program_pro_addData=a.winData,""==a.winData.prname?(layer.msg("请输入工程名称",{icon:0}),!1):""==a.winData.pid?(layer.msg("请选择省份",{icon:0}),!1):""==a.winData.cityid?(layer.msg("请选择城市",{icon:0}),!1):""==a.winData.jiegou?(layer.msg("请选择结构类型",{icon:0}),!1):""==a.winData.kaigong?(layer.msg("请填写开工日期",{icon:0}),!1):""==a.winData.jungong?(layer.msg("请填写竣工日期",{icon:0}),!1):t.time(a.winData.kaigong)>t.time(a.winData.jungong)?(layer.msg("开工日期必须小于竣工日期",{icon:0}),!1):(a.program_pro_addFun=function(e,n){1==e.code?(layer.closeAll(),layer.msg("工程添加成功！",{icon:1}),a.program_pro_listTime.time=t.time()):layer.msg(e.msg,{icon:2})},a.program_pro_addTime.time=t.time(),void a.$apply())})}}}]),myctrl.directive("changepro",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var o=(n.changepro,n.key,t.getscope_byid(e,2));o.litsave=1,o.com_cityData={pid:a.val()},o.com_cityTime.time=t.time(),o.$apply()})}}}]),myctrl.directive("changecity",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var o=n.changecity,i=n.key;if(n.key2){var r=n.key2;e[o][r]=a.find("option:selected").text()}var c=t.getscope_byid(e,e.comctrlid),l=t.getscope_byid(e,2);l.litsave=1,c[o][i]=a.val(),c.$apply()})}}}]),myctrl.directive("procity",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var a=t.getscope_byid(e,2);a.litsave=1,a.$apply()})}}}]),myctrl.directive("comcheck",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(e){var n=[1,0],o=a.comcheck;t.value[o]=void 0===t.value[o]?0:t.value[o],t.value[o]=n[t.value[o]],t.$apply()})}}}]),myctrl.directive("checkallbykey",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(o){var i=n.checkallbykey,r=$(a).is(":checked"),c=t.getscope_byid(e,e.comctrlid);angular.forEach(c[i].datalist,function(t,e){t[n.key]=r?1:0}),c.$apply()})}}}]),myctrl.directive("comcheckall",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(o){var i=n.comcheckall,r=$(a).is(":checked"),c=t.getscope_byid(e,e.comctrlid);angular.forEach(c[i].datalist,function(t,e){t.check=r?1:0}),c.$apply()})}}}]),myctrl.directive("checkedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=$(this).is(":checked")?"1":"0",i=n.checkedit,r={};r.codeid=e.value.codeid,r[i]=o;var c=root2+config.url.com_em.url;t.post(c,r,function(a){t.msg(a),1==a.code&&(e.value[i]=o)})})}}}]),myctrl.directive("checktbtype",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=$(this).is(":checked")?"1":"0",i={},r=n.checktbtype,c=[];$(r).find("input:checkbox:checked").each(function(t,e){c.push(e.value)}),i.codeid=n.codeid,i.temjson=c.join(",");var l=root2+config.url.com_em.url;t.post(l,i,function(a){t.msg(a),1==a.code&&(e.value[key]=o)})})}}}]),myctrl.directive("tapshowrunzl",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.yscid);a.tapshow=n.tap,a[n.tapshowrunzl].params.codeid=n.codeid,a[n.tapshowrunzl].time=t.time(),a.$apply()})}}}]),myctrl.directive("comdelones",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.yscid),o=n.comdelones,i=n.theid||"id",r=n.tip?n.tip:"您确定要删除么？",c=layer.confirm(r,{btn:["确定","取消"]},function(){a[o].params[i]=e.value[i],a[o].done=function(t,a){1==t.code?(e.value.isdel=1,layer.msg("删除成功")):layer.msg(t.msg),layer.close(c)},a[o].time=t.time(),a.$apply()})})}}}]),myctrl.directive("comselect",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var o=t.getscope_byid(e,2),i=n.comselect,r=n.key;o[i][r]=$(a).val(),o.$apply()})}}}]),myctrl.directive("comfind",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid),o=n.comfind+"Data";a[o].curPage=1;var i=n.comfind+"Time";a[i].time=t.time(),a.$apply()})}}}]),myctrl.directive("comadd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=t.getscope_byid(e,e.comctrlid),i={};i.codeid=o[n.comadd].codeid,n.prcodeid&&(i.prcodeid=n.prcodeid),n.scodeid&&(i.scodeid=n.scodeid),n.hcodeid&&(i.hcodeid=n.hcodeid),n.ext1&&(i[n.ext1]=n.ext1v),n.ext2&&(i[n.ext2]=n.ext2v);var r=root2+config.url.com_ea.url;t.post(r,i,function(e){t.msg(e),1==e.code&&(i.codeid=e.data.codeid,i.myorder=0,i.morder=0,o[n.comadd].datalist.unshift(i))})})}}}]),myctrl.directive("comedit",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(o){var i=$(this),r=n.comedit,c={};c.codeid=e.value.codeid,c[r]=a.val();var l=root2+config.url.com_em.url;t.post(l,c,function(n){var o="morder"==r||"myorder"==r?parseInt(a.val()):a.val();e.value[r]=o,t.msg(n),1==n.code?i.addClass("ipright").removeClass("ipwrong"):i.addClass("ipwrong").removeClass("ipright")})})}}}]),myctrl.directive("pornameedit",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(o){var i=$(this),r=n.pornameedit,c={};c.codeid=e.value.codeid,c[r]=a.val();var l=root2+config.url.com_em.url;t.post(l,c,function(n){var o=a.val();e.value[r]=o,t.msg(n),1==n.code?(i.addClass("ipright").removeClass("ipwrong"),e.program_pro_listTime.time=t.time()):i.addClass("ipwrong").removeClass("ipright")})})}}}]),myctrl.directive("plus",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=t.getscope_byid(e,2),i=o[n.plus][n.key];o[n.plus][n.key]=i?parseInt(i)+1:1,o.$apply()})}}}]),myctrl.directive("minus",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=t.getscope_byid(e,2),i=o[n.minus][n.key];o[n.minus][n.key]=i?i-1:1,o.$apply()})}}}]),myctrl.directive("createpart",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var n=t.getscope_byid(e,2);if("0"==n.winData.jiegou&&layer.msg("请选择框架类型。",{icon:0}),n.winData.cengshu>50)return layer.msg("层数不能超过50。",{icon:0}),!1;if(n.winData.cengshu){n.winData.jichu=config.ext.jichu.join("\n");for(var o=[],i=0;i<n.winData.cengshu;i++){var r=config.ext.zhuti[i]+"层梁板";o.push(r);var c="1"===n.winData.jiegou?"柱":"墙柱",l=config.ext.zhuti[i]+"层"+c;o.push(l)}o.push("屋面梁板"),n.winData.zhuti=o.join("\n"),n.$apply()}else layer.msg("请输入层数。",{icon:2})})}}}]),myctrl.directive("loginout",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(t){})}}}]),myctrl.directive("selcode",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a="#"+n.selcode;e.stuinfo_safe_psdeditData=e.stuinfo_safe_selcodeFun=function(t){if("0"==t.code){$(a).prop("disabled",!0);var e=50,n=setInterval(function(){e>0?$(a).html(e+"秒后重新发送"):($(a).html("重新发送"),$(a).removeAttr("disabled"),window.clearInterval(n)),e--},1e3)}else layer.msg("发送失败"),$(a).prop("disabled",!1)},e.stuinfo_safe_selcodeTime.time=t.time(),e.$apply()})}}}]),myctrl.directive("gattadd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);return a.winData.codeid=t.getstore("prcodeid"),a.temdata=a.winData,a.winData.htitle?a.winData.etime&&a.winData.btime&&a.winData.etime<a.winData.btime?(layer.msg("结束日期必须大于开始日期"),!1):(a.program_gantt_addFun=function(e){t.addmsg(a,e,"program_gantt_list")},a.program_gantt_addData=a.winData,a.program_gantt_addTime.time=t.time(),void a.$apply()):(layer.msg("标题不能为空！"),!1)})}}}]),myctrl.directive("gattedit",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);return a.program_gantt_editData=a.winData,a.winData.htitle?a.winData.etime<a.winData.btime?(layer.msg("结束日期必须大于开始日期"),!1):(a.program_gantt_editFun=function(t,e){layer.closeAll(),layer.msg(t.msg,{icon:1})},a.program_gantt_editTime.time=t.time(),void a.$apply()):(layer.msg("主标题不能为空！"),!1)})}}}]),myctrl.directive("ganttrenwuadd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid),n={};a.program_gantt_worklist.datalist.push(n),a.$apply()})}}}]),myctrl.directive("sinadd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);console.log(a.winData),a.winData.codeid=n.sinadd;var o={};return o=a.winData,""==a.winData.sname?(layer.msg("请输入子单位名称",{icon:0}),!1):""==a.winData.cengshu?(layer.msg("请输入层数",{icon:0}),!1):a.winData.cengshu>50?(layer.msg("层数不能超过50。",{icon:0}),!1):""==a.winData.jiegou?(layer.msg("请选择结构类型",{icon:0}),!1):""==$.trim(a.winData.jichu)?(layer.msg("基础部位不能为空",{icon:0}),!1):""==$.trim(a.winData.zhuti)?(layer.msg("主体部位不能为空",{icon:0}),!1):(a.program_pro_sinaddFun=function(t){1==t.code?(layer.closeAll(),layer.msg(t.msg,{icon:1}),o.codeid=t.data.codeid,o.rd=t.data.rd,console.log(o.rd),e.program_pro_list.datalist[n.scoindex].sinchl.datalist.push(o)):layer.msg(t.msg,{icon:2})},a.program_pro_sinaddData=a.winData,a.program_pro_sinaddTime.time=t.time(),void a.$apply())})}}}]),myctrl.directive("setnowprosin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){t.setstore("prcodeid",n.prcodeid),t.setstore("prname",e.value.prname),t.setstore("scodeid",n.scodeid||"")})}}}]),myctrl.directive("hanjie",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){alert("hanjie")})}}}]),myctrl.directive("changemattersin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);angular.forEach(a.program_plan_sinlist.datalist,function(t,e){t.now=""}),e.value.now="active",e.value.type===!0?(a.program_plan_matterlistTime.time=t.time(),angular.forEach(a.yctypelist,function(t,e){t.ngclass="label-default"}),a.yctypelist[9].ngclass="label-primary",a.matter_url=a.yctypelist[9].url,a.yctype=a.yctypelist[9].t):(angular.forEach(a.typelist,function(t,e){t.ngclass="label-default"}),a.typelist[0].ngclass="label-primary",a.plansin_body=a.typelist[0].url,a.stype=a.typelist[0].t,t.setstore("scodeid",e.value.codeid),t.setstore("sname",e.value.sname),a.program_plan_betonlistData={codeid:e.value.codeid},a.program_plan_betonlistTime.time=t.time()),e.$apply()})}}}]),myctrl.directive("changesin",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid),n=(t.getscope_byid(e,2),e.value.codeid);t.setstore("scodeid",n),t.setstore("sname",e.value.sname),a.program_work_sinimageData={codeid:n},a.program_work_sinimageTime.time=t.time(),a.program_work_matcountData={codeid:t.getstore("prcodeid")},a.program_work_matcountTime.time=t.time(),a.$apply()})}}}]),myctrl.directive("changestype",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);angular.forEach(a.typelist,function(t,e){t.ngclass="label-default"}),e.value.ngclass="label-primary",a.plansin_body=e.value.url,a.stype=e.value.t,a.program_plan_betonlistData.type=e.value.t,a.program_plan_betonlistTime.time=t.time(),e.$apply()})}}}]),myctrl.directive("changeyctype",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);angular.forEach(a.yctypelist,function(t,e){t.ngclass="label-default"}),e.value.ngclass="label-primary",a.matter_url=e.value.url,a.yctype=e.value.t,e.$apply()})}}}]),myctrl.directive("masteradd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var o=t.getscope_byid(e,e.comctrlid),i={};i.codeid=o[n.masteradd].codeid,n.prcodeid&&(i.prcodeid=n.prcodeid),n.yctype&&(i.yctype=n.yctype);var r=root2+config.url.com_ea.url;t.post(r,i,function(e){t.msg(e),1==e.code&&(i.codeid=e.data.codeid,o[n.masteradd].datalist.unshift(i))})})}}}]),myctrl.directive("workshowchange",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);if(a.isshow="0"==a.isshow?1:0,a.showtype=n.workshowchange,a.isshow){var o=t.getscope_byid(e,e.comctrlid);setTimeout(function(){var t=[o.quanbu,o.jichu,o.zhuti],e=["","-基础","-主体"],n=localStorage.getItem("sname"),i=n+e[a.showtype]+"- 送检统计图";hntchart(t[a.showtype],i),ycchart(o.yuancai,"工程原材送检统计图")},500)}a.$apply()})}}}]),myctrl.directive("changest",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);a.showtype=n.changest;var o=t.getscope_byid(e,e.comctrlid),i=[o.quanbu,o.jichu,o.zhuti],r=["","-基础","-主体"],c=localStorage.getItem("sname"),l=c+r[a.showtype]+"- 送检统计图";hntchart(i[a.showtype],l),o.$apply(),setTimeout(function(){$('*[data-toggle="tooltip"]').tooltip()},300)})}}}]),myctrl.directive("setlocalstorage",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var e=n.setlocalstorage;t.setstore(e,n.code)})}}}]),myctrl.directive("lsshow",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){console.log(e);var a=t.getscope_byid(e,2);a.lsshow="0"==a.lsshow?1:0,a.$apply()})}}}]),myctrl.directive("modsendcode",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=$(this);if(!e.data.oldpasswd)return layer.msg("请输入旧密码!"),!1;if(!e.data.tel||e.data.tel.length<11)return layer.msg("请输入正确的手机号!"),!1;var n=root2+"ver1/Login/phonecode";t.post(n,e.data,function(e){$("#sendcode").prop("disabled",!0),e.code>0?setTimeout(function(){t.sendphone(a)},1e3):$("#sendcode").prop("disabled",!1),layer.msg(e.desc)})})}}}]),myctrl.directive("changepsw",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=root2+"ver1/Index/user_password_phone";t.post(a,e.data,function(t){layer.msg(t.msg),t.code>0&&(window.location.href="./login.html")})})}}}]),myctrl.directive("changeimg",["fac",function(t){return{link:function(e,a,n,o){a.on("change",function(){var a=t.getObjectURL(this.files[0]);a&&$(".basicinfortimg").find("img").attr("src",a),$(n.element).ajaxSubmit({url:root2+"ver1/Index/uploadImage",success:function(t){e.imgurl="php/"+t.url,e.$apply()}})})}}}]),myctrl.directive("saveperson",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){$(a.element).ajaxSubmit({url:root2+a.saveperson,success:function(t){layer.msg(t.msg)}})})}}}]),myctrl.directive("sameimg",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=e.user_info_list.datalist[0],o={};o.photourl="1"==n.sameimg?a.pcweimg:a.qqimg;var i=root2+"ver1/Index/user_info_save";layer.confirm("确定要同步头像吗？",{btn:["确定","取消"]},function(){t.post(i,o,function(t){t.code>0?(layer.msg("同步成功！",{icon:1}),$(".baseimg").attr("src",o.photourl)):layer.msg("同步失败!",{icon:0})})},function(){})})}}}]),myctrl.directive("userUnbind",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.userUnbind,o=n.tip,i=root2+"ver1/Index/unbindtwo";t.post(i,{type:a},function(t){t.code>0?(layer.msg(t.msg,{icon:1}),e.user_info_list.datalist[0][o]=0):layer.msg(t.msg,{icon:0})})})}}}]),myctrl.directive("showtab",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2),o=n.showtab;e[o].chl&&e[o].chl.length>0?(a.body.zlurl="html/program/zl_list.html",a.zllistdata.list=e[o].chl):(console.log(e[o]),a.body.zlurl="ziliao/gd/tujian/"+e[o].code+".html?"+t.time(),t.setstore("zlval",e[o])),""===e[o].o&&(e[o].o="-open"),a.zllistdata.id=e[o].id,a.zllistdata.t=e[o].t,a.zllistdata.zf=e[o].zf?e[o].zf:"",a.zllistdata.name=e[o].name,a.$apply()})}}}]),myctrl.directive("phonecode",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=n.phonecode,o=$(this),i=root2+"ver1/Login/newphonecode";t.post(i,e[a],function(e){e.code>0?t.sendphone(o):layer.msg(e.msg,{icon:0})})})}}}]),myctrl.directive("closeopen",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(e){var n=a.closeopen;t[n].o=t[n].o?"":"-open",t.$apply(),e.stopPropagation()})}}}]),myctrl.directive("register",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){return e.registerData.tel?e.registerData.yzmcode?e.registerData.smscode?e.registerData.password?(e.registerTime.time=t.time(),void e.$apply()):(layer.msg("请输入密码!",{icon:0}),!1):(layer.msg("请输入短信验证码!",{icon:0}),!1):(layer.msg("请输入验证码!",{icon:0}),!1):(layer.msg("请填写手机号码!",{icon:0}),!1)})}}}]),myctrl.directive("caijitem",["fac",function(fac){return{link:function($scope,iElm,iAttrs){iElm.on("click",function(){var temurl=iAttrs.temurl,cityid=iAttrs.caijitem,htmlobj="",url=root2+"ver1/Index/temurl";fac.load(1),fac.post(url,{temurl:temurl},function(re){if(fac.load(0),re.code>0){htmlobj=re.html;var wea=$(htmlobj).find(".wea-detail"),li=wea.find("li").length,ilen=wea.find("i").length,arr=[];for(i=0;i<li;i++){var ax=wea.find("li").eq(i).find("p").text();ax=$.trim(ax);var date=ax.split("日"),myDate=new Date,Y=myDate.getFullYear();d=date[0].replace("月","-"),riqi=Y+"-"+d;var time=fac.timetostr(riqi)/1e3,htem=wea.find("li").eq(i).find("i").find("font").eq(0).text(),ltem=wea.find("li").eq(i).find("i").find("font").eq(1).text();if(htem=parseInt(htem),ltem=parseInt(ltem),htem<ltem){var vvt=htem;htem=ltem,ltem=vvt}var vtem=(htem+ltem)/2,obj={htem:htem,ltem:ltem,vtem:vtem,time:time};arr.push(obj)}if(i>1){var data={temdata:eval(arr),cityid:cityid},sendurl=root2+"ver1/Index/setweather";fac.post(sendurl,data,function(t){t.code>0})}}})})}}}]),myctrl.directive("changec",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2),n=t.getscope_byid(e,e.comctrlid);e.value.c="0"==e.value.c?1:0,e.$apply(),e.value.c=$(this).is(":checked")?1:0;var o={id:a.zllistdata.id,t:a.zllistdata.t,code:"",zf:a.zllistdata.zf},i=[];angular.forEach(a.zllistdata.list,function(t){1===t.c&&i.push(t.id)}),o.code=i.join(","),o.code=""!==o.code?o.code+",":"",n.program_struct_editFun=function(e,a){t.msg(e)},n.program_struct_editData=o,n.program_struct_editTime.time=t.time(),console.log(n.program_struct_editTime),n.$apply()})}}}]),myctrl.directive("print",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){var t=$("#printcss").html(),e='<style type="text/css" media="screen">'+t+"</style>",a=e+$("#printtable").html();LODOP=getLodop(),LODOP.PRINT_INIT(""),$("#printtable").width()>800&&LODOP.SET_PRINT_PAGESIZE(2,0,0,"A4"),LODOP.ADD_PRINT_HTM(0,20,"100%","100%",a),LODOP.PREVIEW()})}}}]),myctrl.directive("printtable",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){var t=$("#printcss").html(),e='<style type="text/css" media="screen">'+t+"</style>",a=e+$("#printtable").html();LODOP=getLodop(),LODOP.PRINT_INIT(""),$("#printtable").width()>800&&LODOP.SET_PRINT_PAGESIZE(2,0,0,"A4"),LODOP.ADD_PRINT_TABLE(35,20,"100%","100%",a),LODOP.PREVIEW()})}}}]),myctrl.directive("saveprocity",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(o){var i=($(this),n.saveprocity),r={};r.codeid=e.value.codeid,r.pid=$("#pid").val(),r.cityid=$("#cityid").val();var c=t.getscope_byid(e,2);r[i]=a.val();var l=root2+config.url.com_em.url;t.post(l,r,function(a){t.msg(a),1==a.code&&(e.program_pro_listTime.time=t.time(),c.litsave=0)})})}}}]),myctrl.directive("savepsd",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(a){var n=t.getscope_byid(e,2);if(""==$.trim(n.winData.oldpasswd))return layer.msg("旧密码不能少于六位!"),!1;if($.trim(n.winData.newpasswd).length<6)return layer.msg("新密码不能少于六位"),!1;if($.trim(n.winData.newpasswd)!=$.trim(n.winData.newpasswdtwo))return layer.msg("两次密码不一致"),!1;var o=angular.copy(n.winData);o.oldpasswd=t.MD5(o.oldpasswd),o.newpasswd=t.MD5(o.newpasswd),o.newpasswdtwo=t.MD5(o.newpasswdtwo);var i=root2+config.url.user_info_psd.url;t.post(i,o,function(e){t.lmsg(e),e.code>0&&setTimeout(function(){layer.closeAll()},2e3)})})}}}]),myctrl.directive("setkey",["fac",function(t){return{link:function(t,e,a,n){e.on("blur",function(){t[a.setkey]=$(this).html(),t.$apply()})}}}]),myctrl.directive("getherexport",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){var e=t.program_gether_selData.btime+"至"+t.program_gether_selData.etime+"送检记录";$(".pvtTable").find(".titlename").removeClass("dpn"),$(".pvtTable").tableExport({type:"excel",fileName:e}),$(".pvtTable").find(".titlename").addClass("dpn")})}}}]),myctrl.directive("saveasuser",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.hzid),n=layer.confirm("保存后，本表格的数据存为用户数据，且不再被系统更新，您确定要保存么？",{btn:["确定","取消"]},function(){console.log(a.Sdata),layer.close(n)})})}}}]),myctrl.directive("saveassystem",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.hzid),n=layer.confirm("重置后，本表格将采用系统数据，同时用户数据将被删除，您确定要重置么？",{btn:["确定","取消"]},function(){console.log(a.Sdata),layer.closeAll(n)})})}}}]),myctrl.directive("diva",["fac",function(t){return{link:function(t,e,a,n){e.on("blur",function(){var e=$(this).text();t.value.a[a.diva]=e,t.$apply()})}}}]),myctrl.directive("divb",["fac",function(t){return{link:function(t,e,a,n){e.on("blur",function(){var e=$(this).text();t.value.b[a.diva]=e,t.$apply()})}}}]),myctrl.directive("divc",["fac",function(t){return{link:function(t,e,a,n){e.on("blur",function(){var e=$(this).text();t.value.c[a.divc][a.key]=e,t.$apply()})}}}]),myctrl.directive("html2png",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){t.load(1),YS("html2canvas",function(){html2canvas($("#tocanvas"),{onrendered:function(e){var a=n.html2png+".png";t.load(0),$("#down_button").attr("href",e.toDataURL()),$("#down_button").attr("download",a),$("#down_button").css("display","inline-block"),$(".html2png").css("display","none")}})})})}}}]),myctrl.directive("closewin",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){window.opener=null,window.open("","_self"),window.close()})}}}]),myctrl.directive("savefeed",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,2);a.com_feedFun=function(t){1==t.code?(layer.closeAll(),layer.msg("发布成功，谢谢参与",{icon:1})):layer.msg("发布失败",{icon:0})},a.com_feedTime.time=t.time(),a.$apply()})}}}]),myctrl.directive("savejilu",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.comctrlid);a.program_gether_saveData={codeid:t.getstore("prcodeid"),btime:a.program_gether_selData.btime,etime:a.program_gether_selData.etime},a.program_gether_saveFun=function(t){1==t.code?(layer.closeAll(),layer.msg("送检快照保存成功,您可以在送检快照中查看。",{icon:1})):layer.msg("送检快照保存失败",{icon:2})},a.program_gether_saveTime.time=t.time(),a.$apply()})}}}]),myctrl.directive("markfile",["fac",function(t){return{link:function(t,e,a,n){e.on("click",function(){$("#execl_form").ajaxSubmit({url:root2+"ver1/Index/exportxlsmatter",success:function(t){console.log(t)},error:function(t){}})})}}}]),myctrl.controller("comctrl",["$scope","facv","hdl",function(t,e,a){t.yscid=t.$id,t.com_update={time:0,params:{},data:{},done:function(t,e){layer.msg("更新成功")}},e.ysfetch(t,"com_update"),t.com_list={time:0,params:{},data:{}},e.ysfetch(t,"com_list"),t.com_list2={time:0,params:{},data:{}},e.ysfetch(t,"com_list2"),t.com_list3={time:0,params:{},data:{}},e.ysfetch(t,"com_list3"),t.com_list_page={time:0,params:{},data:{}},e.ysfetch(t,"com_list_page"),t.com_list_page2={time:0,params:{},data:{}},e.ysfetch(t,"com_list_page2"),t.com_list_page3={time:0,params:{},data:{}},e.ysfetch(t,"com_list_page3"),t.com_artlist_page={time:0,params:{},data:{}},e.ysfetch(t,"com_artlist_page"),t.com_detail={time:0,params:{},data:{}},e.ysfetch(t,"com_detail"),t.com_del={time:0,params:{},data:{}},e.ysfetch(t,"com_del"),t.com_del2={time:0,params:{},data:{}},e.ysfetch(t,"com_del2"),t.com_editadd={time:0,params:{},data:{}},e.ysfetch(t,"com_editadd"),t.com_editadd2={time:0,params:{},data:{}},e.ysfetch(t,"com_editadd2"),t.com_editadd3={time:0,params:{},data:{}},e.ysfetch(t,"com_editadd3"),t.com_editadd4={time:0,params:{},data:{}},e.ysfetch(t,"com_editadd4"),t.com_editadd5={time:0,params:{},data:{}},e.ysfetch(t,"com_editadd5");var n=location.href.split("#/");url=n[1]||"demopage";var o=url.split("/"),i=o.join("_"),r=a[i];for(var c in r)if("init"==c)a[i][c](t);else{var l=i+"_"+c;t[l]=angular.copy(r[c]),e.ysfetch(t,l)}t.value={},t.tapshow=0,t.editstatus=0}]),myctrl.directive("tapshow",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.yscid);a.tapshow=n.tapshow,a.$apply()})}}}]),myctrl.directive("comtime",["fac",function(t){return{link:function(e,a,n,o){a.on("click",function(){var a=t.getscope_byid(e,e.yscid);a[n.comtime].time=t.time(),a.$apply()})}}}]),angular.module("render",["RongWebIMWidget"]).factory("hdl",["facv","WebIMWidget",function(t,e){var a={system_tbtype:{init:function(e){e.com_list.url="index/archive_select",e.com_list.params={codeid:"123",debug:0,debugkey:"c85",name:"资料模板列表"},e.com_list.before=function(t){},e.com_editadd.url="index/archivetree_update",e.com_editadd.params={codeid:"123",debug:0,debugkey:"c85",name:"增加或编辑一个资料模板"},e.com_list2.url="index/major_select",e.com_list2.params={codeid:"123",debug:0,debugkey:"c85",name:"获取专业列表"},e.com_list2.time=t.time(),e.com_list2.before=function(t){},e.com_editadd2.url="index/major_add",e.com_editadd2.params={},e.com_editadd2.before=function(t){return t.com_editadd2.params.name?t.com_editadd2.params.pid?void(t.com_editadd2.params.visible||(t.com_editadd2.params.visible=1)):(layer.msg("请选择省份！"),!1):(layer.msg("请填写专业名称"),!1)},e.com_editadd2.done=function(t,e){t.code>0&&(layer.msg("提交成功！"),window.location.reload())},e.com_del.url="index/major_del",e.com_del.params={},e.com_del.before=function(t){},e.com_del.done=function(t,e){t.code>0?layer.msg("删除成功!"):layer.msg(t.msg)},e.com_list3.url="open/prov",e.com_list3.params={codeid:"123",debug:0,debugkey:"c85",name:"资料模板列表"},e.com_list3.time=t.time(),e.com_editadd3.url="index/archive_insert",e.com_editadd3.params={},e.com_editadd3.before=function(t){return t.com_editadd3.params.id?t.com_editadd3.params.name?t.com_editadd3.params.type?void(t.com_editadd3.params.visible||(t.com_editadd3.params.visible=1)):(layer.msg("请选择类型"),!1):(layer.msg("请填写菜单名称"),!1):(layer.msg("请选择上级菜单"),!1)},e.com_editadd3.done=function(t,e){return t.code>0?(layer.msg("提交成功！"),void setTimeout(function(){window.location.reload()},1e3)):(layer.msg(t.msg),!1)},e.com_editadd4.url="index/archive_update",e.com_editadd4.params={},e.com_editadd4.before=function(t){return t.com_editadd4.params.id?t.com_editadd4.params.name?t.com_editadd4.params.type?void(t.com_editadd4.params.visible||(t.com_editadd4.params.visible=1)):(layer.msg("请选择类型"),!1):(layer.msg("请填写菜单名称"),!1):(layer.msg("请选择上级菜单"),!1)},e.com_editadd4.done=function(t,e){return t.code>0?(layer.msg("提交成功！"),void setTimeout(function(){window.location.reload()},1e3)):(layer.msg(t.msg),!1)},e.com_editadd5.url="index/archive_update",e.com_editadd5.params={},e.com_editadd5.before=function(t){},e.com_editadd5.done=function(t,e){return t.code>0?void layer.msg("更新成功！"):(layer.msg(t.msg),!1)},e.com_del2.url="index/archive_del",e.com_del2.params={},e.com_del2.before=function(t){},e.com_del2.done=function(t,e){layer.msg(t.msg)}}},program_struct:{init:function(a){console.log(e),a.com_list.url="index/archive_select",a.com_list.params={codeid:"123",debug:0,debugkey:"c85",name:"demo测试接口"},a.com_list.time=t.time(),a.com_list.before=function(t){},a.com_list.done=function(t,e){},YS("zTree",function(){function t(t,a,o){o||"button"==t.target.tagName.toLowerCase()||0!=$(t.target).parents("a").length?o&&!o.noR&&(n.selectNode(o),e("node",t.clientX,t.clientY)):(n.cancelSelectedNode(),e("root",t.clientX,t.clientY))}function e(t,e,n){$("#rMenu ul").show(),"root"==t?($("#m_del").hide(),$("#m_check").hide(),$("#m_unCheck").hide()):($("#m_del").show(),$("#m_check").show(),$("#m_unCheck").show()),n+=document.body.scrollTop,e+=document.body.scrollLeft,o.css({top:n+"px",left:e+"px",visibility:"visible"}),$("body").bind("mousedown",a)}function a(t){"rMenu"==t.target.id||$(t.target).parents("#rMenu").length>0||o.css({visibility:"hidden"})}var n,o,i={view:{dblClickExpand:!1},check:{enable:!0},callback:{onRightClick:t}},r=[{id:2,name:"旭日领裕园商住楼(5幢、6幢)工程",open:!0,children:[{id:21,name:"工程前期",open:!0,children:[{id:31,name:"前期法定程序检查表"},{id:32,name:"GD-C-318 施工现场质量管理检查表"}]},{id:22,name:"工程管理",open:!0,children:[{id:31,name:"基线复核"},{id:32,name:"烟气风道检查记录"}]},{id:23,name:"5栋",open:!0,children:[{id:31,name:"地基与基础",open:!0,children:[{id:31,name:"基础",open:!0,children:[{id:31,name:"桩芯",children:[{id:22,name:"钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]},{id:32,name:"基础筏板",children:[{id:22,name:"钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]}]}]},{id:32,name:"主体结构",children:[{id:31,name:"混凝土结构"}]}]},{id:23,name:"6栋",open:!0,children:[{id:31,name:"地基与基础",open:!0,children:[{id:31,name:"基础",open:!0,children:[{id:31,name:"桩芯",children:[{id:22,name:"钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]},{id:32,name:"基础筏板",children:[{id:22,name:"钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]}]}]},{id:32,name:"主体结构",children:[{id:31,name:"混凝土结构"}]}]},{id:23,name:"7栋",open:!0,children:[{id:31,name:"地基与基础",open:!0,children:[{id:31,name:"基础",open:!0,children:[{id:31,name:"桩芯",children:[{id:22,name:"钢筋加工检验批质量验收记录钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]},{id:32,name:"基础筏板",children:[{id:22,name:"钢筋加工检验批质量验收记录"},{id:22,name:"混凝土施工检验批质量验收记录"}]}]}]},{id:32,name:"主体结构",children:[{id:31,name:"混凝土结构"}]}]},{id:3,name:"竣工备案",open:!0,children:[{id:31,name:"竣工备案验收记录表"}]}]}];$(document).ready(function(){$.fn.zTree.init($("#treeDemo"),i,r),n=$.fn.zTree.getZTreeObj("treeDemo"),o=$("#rMenu")})}),RongIMLib.RongIMClient.init("k51hidwqkn7cb"),RongIMClient.setConnectionStatusListener({onChanged:function(t){switch(t){case RongIMLib.ConnectionStatus.CONNECTED:console.log("链接成功");break;case RongIMLib.ConnectionStatus.CONNECTING:console.log("正在链接");break;case RongIMLib.ConnectionStatus.DISCONNECTED:console.log("断开连接");break;case RongIMLib.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:console.log("其他设备登录");break;case RongIMLib.ConnectionStatus.DOMAIN_INCORRECT:console.log("域名不正确");break;case RongIMLib.ConnectionStatus.NETWORK_UNAVAILABLE:console.log("网络不可用")}}}),RongIMClient.setOnReceiveMessageListener({onReceived:function(t){switch(t.messageType){case RongIMClient.MessageType.TextMessage:
break;case RongIMClient.MessageType.VoiceMessage:break;case RongIMClient.MessageType.ImageMessage:break;case RongIMClient.MessageType.DiscussionNotificationMessage:break;case RongIMClient.MessageType.LocationMessage:break;case RongIMClient.MessageType.RichContentMessage:break;case RongIMClient.MessageType.InformationNotificationMessage:break;case RongIMClient.MessageType.ContactNotificationMessage:break;case RongIMClient.MessageType.ProfileNotificationMessage:break;case RongIMClient.MessageType.CommandNotificationMessage:break;case RongIMClient.MessageType.CommandMessage:break;case RongIMClient.MessageType.UnknownMessage:}}});var n="nItCX7gErftua4tNM5x3978pahRwm7+sVU505ICWdxb/VPko2Dzxz3cdSY5KIG4nEIV5mCCo0ZQ=";RongIMClient.connect(n,{onSuccess:function(t){console.log("Connect successfully."+t)},onTokenIncorrect:function(){console.log("token无效")},onError:function(t){var e="";switch(t){case RongIMLib.ErrorCode.TIMEOUT:e="超时";break;case RongIMLib.ErrorCode.UNKNOWN_ERROR:e="未知错误";break;case RongIMLib.ErrorCode.UNACCEPTABLE_PaROTOCOL_VERSION:e="不可接受的协议版本";break;case RongIMLib.ErrorCode.IDENTIFIER_REJECTED:e="appkey不正确";break;case RongIMLib.ErrorCode.SERVER_UNAVAILABLE:e="服务器不可用"}console.log(t)}})}}};return a}])});